{"version":3,"file":"override.min.js","sources":["../src/override.js"],"sourcesContent":["\ndefine(['jquery', 'core/ajax', 'core/notification'], function ($, Ajax, Notification) {\n\n    return {\n        init: function (selector, identifier) {\n            $(document).on('click', '.override-trigger-' + identifier, function(e) {\n                e.preventDefault();\n                e.stopPropagation();\n                let _this = $(this);\n                let data = {\n                    categoryid: _this.data('categoryid'),\n                    questionattemptid: _this.data('questionattemptid'),\n                    questionid: _this.data('questionid'),\n                };\n                Ajax.call([{\n                    methodname: 'qtype_mlnlpessay_set_override',\n                    args: data,\n                }])[0].done(function(response) {\n                    if (response.status) {\n                        let data = response.response;\n                        data = JSON.parse(data);\n                        let container = $('.' + selector + '-' + identifier);\n                        console.log('.' + selector + '-' + identifier);\n                        container.html(data);\n                    } else {\n                        Notification.addNotification({\n                            message: response.message,\n                            type: 'error'\n                        });\n                    }\n                }).fail(Notification.exception);\n            });\n\n        },\n\n    };\n});\n"],"names":["define","$","Ajax","Notification","init","selector","identifier","document","on","e","preventDefault","stopPropagation","_this","this","data","categoryid","questionattemptid","questionid","call","methodname","args","done","response","status","JSON","parse","container","console","log","html","addNotification","message","type","fail","exception"],"mappings":"AACAA,OAAO,4BAAA,CAAC,SAAU,YAAa,qBAAsB,SAAUC,EAAGC,KAAMC,cAEpE,MAAO,CACHC,KAAM,SAAUC,SAAUC,YACtBL,EAAEM,UAAUC,GAAG,QAAS,qBAAuBF,WAAY,SAASG,GAChEA,EAAEC,iBACFD,EAAEE,kBACF,IAAIC,MAAQX,EAAEY,MACVC,KAAO,CACPC,WAAYH,MAAME,KAAK,cACvBE,kBAAmBJ,MAAME,KAAK,qBAC9BG,WAAYL,MAAME,KAAK,eAE3BZ,KAAKgB,KAAK,CAAC,CACPC,WAAY,gCACZC,KAAMN,QACN,GAAGO,KAAK,SAASC,UACjB,GAAIA,SAASC,OAAQ,CACjB,IAAIT,KAAOQ,SAASA,SACpBR,KAAOU,KAAKC,MAAMX,MAClB,IAAIY,UAAYzB,EAAE,IAAMI,SAAW,IAAMC,YACzCqB,QAAQC,IAAI,IAAMvB,SAAW,IAAMC,YACnCoB,UAAUG,KAAKf,KACnB,MACIX,aAAa2B,gBAAgB,CACzBC,QAAST,SAASS,QAClBC,KAAM,SAGjB,GAAEC,KAAK9B,aAAa+B,UACzB,EAEJ,EAGR"}