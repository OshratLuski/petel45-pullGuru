define("qtype_mlnlpessay/feedback",["exports","core/ajax","jquery"],function(_exports,_ajax,_jquery){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=_interopRequireDefault(_ajax),_jquery=_interopRequireDefault(_jquery);const params={},getData=qaid=>{let newParams=params[qaid];_ajax.default.call([{methodname:"qtype_mlnlpessay_get_feedback",args:{questionid:newParams.qid,questionattemptid:newParams.qaid}}])[0].done(function(response){if(response.status){let data=response.response;data=JSON.parse(data),draw(data,newParams),clearInterval(newParams.int)}}).fail(Notification.exception)},draw=(data,params)=>{(0,_jquery.default)("."+params.selector+"-"+params.qid).html(data)};_exports.init=(qid,qaid,selector)=>{let newObj={qid:qid,qaid:qaid,selector:selector,int:null};params[qaid]=newObj,getData(newObj.qaid),(qaid=>{params[qaid].int=setInterval(function(){getData(qaid)},5e3)})(newObj.qaid)}});

//# sourceMappingURL=feedback.min.js.map