define("qtype_mlnlpessay/categories",["jquery","https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"],function($,Tabulator){return{init:function(input,params,hascapedit){if(tabledata=[],tabledata=Object.keys(input).map(function(key){return input[key]}),tabledata.sort((a,b)=>a.sortorder-b.sortorder),"he"===$("html")[0].lang)var table=new Tabulator("#rubiccategoryfulltable-table",{movableRows:hascapedit,height:540,data:tabledata,textDirection:"rtl",layout:"fitColumns",columns:[{rowHandle:hascapedit,formatter:"handle",headerSort:!1,width:30,minWidth:30},{field:"iscategoryselected",hozAlign:"center",headerHozAlign:"center",headerSort:!1,formatter:cell=>{catid=cell.getRow()._row.data.id;const value=cell.getValue();return`\n                                    <input class="n_catch n_catch2" ${hascapedit?"":"disabled=disabled"} type="checkbox" ${value?'checked="checked"':""} name="n_categories_${catid}[]" id="n_categories_${catid}"/>\n                                    `},title:hascapedit?'\n                        <span>Select all</span>\n                        <br>\n                        <input class="n_catch_all" type="checkbox" name="n_catch_all" id="n_catch_all"/>\n                        ':"<span>Select all</span>"},{title:"Name",field:"name",width:"40%",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Type",field:"type",editor:!!hascapedit&&"list",editorParams:{values:params.types,allowEmpty:!0,listOnEmpty:!0,clearable:!0,itemFormatter:(label,value,item,element)=>`\n                                <strong>${label}</strong><br/>\n                                `},formatter:function(cell,formatterParams,onRendered){return"—"==params.types[cell.getValue()]?"":params.types[cell.getValue()]},headerSort:!1,cssClass:!!hascapedit&&"editablecol"},{title:"Weight",field:"weight",editor:!!hascapedit,cssClass:!!hascapedit&&"editablecol",validator:["min:0","max:100","integer"],headerSort:!1},{title:"Tag",field:"tag",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Topics",field:"topics",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Subtopics",field:"subtopics",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Lang",field:"lang",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1}]});else table=new Tabulator("#rubiccategoryfulltable-table",{movableRows:hascapedit,height:540,data:tabledata,textDirection:"ltr",layout:"fitColumns",columns:[{rowHandle:hascapedit,formatter:"handle",headerSort:!1,frozen:!0,width:30,minWidth:30},{field:"iscategoryselected",hozAlign:"center",headerHozAlign:"center",headerSort:!1,formatter:cell=>{catid=cell.getRow()._row.data.id;const value=cell.getValue();return`\n                                    <input class="n_catch n_catch2" ${hascapedit?"":"disabled=disabled"} type="checkbox" ${value?'checked="checked"':""} name="n_categories_${catid}[]" id="n_categories_${catid}"/>\n                                    `},title:hascapedit?'\n                        <span>Select all</span>\n                        <br>\n                        <input class="n_catch_all" type="checkbox" name="n_catch_all" id="n_catch_all"/>\n                        ':"<span>Select all</span>"},{title:"Name",field:"name",width:"40%",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Type",field:"type",editor:!!hascapedit&&"list",editorParams:{values:params.types,allowEmpty:!0,listOnEmpty:!0,clearable:!0,itemFormatter:(label,value,item,element)=>`\n                                <strong>${label}</strong><br/>\n                                `},formatter:function(cell,formatterParams,onRendered){return"—"==params.types[cell.getValue()]?"":params.types[cell.getValue()]},headerSort:!1,cssClass:!!hascapedit&&"editablecol"},{title:"Weight",field:"weight",editor:!!hascapedit,cssClass:!!hascapedit&&"editablecol",validator:["min:0","max:100","integer"],headerSort:!1},{title:"Tag",field:"tag",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Topics",field:"topics",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Subtopics",field:"subtopics",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1},{title:"Lang",field:"lang",headerFilter:"input",headerFilterLiveFilter:!0,headerSort:!1}]});hascapedit&&(table.on("tableBuilt",function(){$("#n_catch_all").change(function(){cells=table.getColumn("iscategoryselected").getCells(),cells.forEach(element=>{element.setValue(this.checked)})}),$("form").submit(e=>($("#rubiccategoryfulltable").attr("value",JSON.stringify(table.getData())),!0))}),table.on("cellClick",function(e,cell){$(e.target).hasClass("n_catch")&&cell.setValue($(e.target).is(":checked"))}))}}});

//# sourceMappingURL=categories.min.js.map