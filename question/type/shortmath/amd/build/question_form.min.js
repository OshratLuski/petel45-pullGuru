define("qtype_shortmath/question_form",["exports","qtype_shortmath/template_preview","qtype_shortmath/api_helpers"],(function(_exports,_template_preview,_api_helpers){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.initCombinable=_exports.init=void 0;var _ref,init=(_ref=_asyncToGenerator(regeneratorRuntime.mark((function _callee(questionid){var template,containerId,select,templateid;return regeneratorRuntime.wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(containerId="template-container",select=document.querySelector('[name="editorconfig"]'),"-1"!==(templateid=select.value)){_context.next=9;break}return _context.next=6,(0,_api_helpers.getShortmathEditorconfig)(questionid);case 6:template=_context.sent,_context.next=12;break;case 9:return _context.next=11,(0,_api_helpers.getShortmathTemplate)(templateid);case 11:template=_context.sent;case 12:(0,_template_preview.render)(template,containerId),addSelectEventListener(select,questionid,containerId);case 14:case"end":return _context.stop()}}),_callee)}))),function(_x){return _ref.apply(this,arguments)});_exports.init=init;var _ref2,initCombinable=(_ref2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(questionid,selectname){var template,containerId,select,templateid;return regeneratorRuntime.wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(containerId="template-container_"+selectname,select=document.querySelector('[name="'+selectname+'"]'),"-1"!==(templateid=select.value)){_context2.next=9;break}return _context2.next=6,(0,_api_helpers.getShortmathEditorconfig)(questionid);case 6:template=_context2.sent,_context2.next=12;break;case 9:return _context2.next=11,(0,_api_helpers.getShortmathTemplate)(templateid);case 11:template=_context2.sent;case 12:(0,_template_preview.render)(template,containerId),addSelectEventListener(select,questionid,containerId);case 14:case"end":return _context2.stop()}}),_callee2)}))),function(_x2,_x3){return _ref2.apply(this,arguments)});function addSelectEventListener(selectElement,questionid,containerId){var container=document.getElementById(containerId);selectElement.addEventListener("change",_asyncToGenerator(regeneratorRuntime.mark((function _callee3(){var template,templateid;return regeneratorRuntime.wrap((function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(templateid=selectElement.value,container.innerHTML="","-1"!==templateid){_context3.next=8;break}return _context3.next=5,(0,_api_helpers.getShortmathEditorconfig)(questionid);case 5:template=_context3.sent,_context3.next=11;break;case 8:return _context3.next=10,(0,_api_helpers.getShortmathTemplate)(templateid);case 10:template=_context3.sent;case 11:return _context3.next=13,(0,_template_preview.render)(template,containerId);case 13:case"end":return _context3.stop()}}),_callee3)}))))}_exports.initCombinable=initCombinable}));

//# sourceMappingURL=question_form.min.js.map