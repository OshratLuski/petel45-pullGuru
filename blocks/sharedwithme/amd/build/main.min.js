/**
 * Javascript to initialise the myoverview block.
 *
 * @package    block_sharedwithme
 * @copyright  2018 Bas Brands <bas@moodle.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_sharedwithme/main",["jquery","core/ajax","core/notification","local_petel/inview"],(function($,Ajax,Notification,inView){var selector_wrapper="#block-sharedwithme-selectSort",selector_mainBlock=".block-sharedwithme-content-courses",selector_selectItems="#block-sharedwithme-selectSort .dropdown-item",selector_spinner="#block-sharedwithme-selectSort .spinner-border",selector_page="#block-sharedwithme-page",toggleSpinner=function(status){var borderColor=status?"":"transparent";$(selector_spinner).css("border-color",borderColor)},renderBlock=function(perpage){$(selector_page).val(perpage),toggleSpinner(!0),Ajax.call([{methodname:"block_sharedwithme_render_courses_block",args:{perpage:perpage},done:function(response){toggleSpinner(!1),response.status&&$(selector_mainBlock).html(response.content)},fail:Notification.exception}])};return{init:function(){var root=$(selector_wrapper);inView(".block-social-newcourses-inview").on("enter",(function(e){if(!$(e).hasClass("inview-done")){$(e).addClass("inview-done");var perpage=$("#block-sharedwithme-selectSort .dropdown-menu .active").data("value");renderBlock(perpage)}})).on("exit",(function(el){})),root.on("click",(function(e){for(var target=$(e.target);$.contains(root[0],target[0]);){if("setPerpage"===target.data("handler"))return $(selector_selectItems).removeClass("active"),$(target).addClass("active"),void renderBlock(target.data("value"));target=target.parent()}}))}}}));

//# sourceMappingURL=main.min.js.map