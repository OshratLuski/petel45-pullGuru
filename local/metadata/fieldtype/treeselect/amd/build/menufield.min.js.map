{"version":3,"file":"menufield.min.js","sources":["../src/menufield.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript settings handler.\n *\n * @module     metadatafieldtype_treeselect/settings\n * @package    local_metadata\n * @copyright  2019 Devlionco <info@devlion.co>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.6\n */\n\ndefine([\n    'jquery', 'local_jsoneditor/usage'\n], function ($, JSONEditor) {\n\n    var Selector = {\n        FIELD_SRC: '#id_param1',\n        JSON_FIELD1: '.form-textarea',\n    };\n\n    return {\n        init: function () {\n\n            var json = $(Selector.FIELD_SRC).val().trim();\n            if (!$(Selector.FIELD_SRC).val().trim()) {\n                $(Selector.FIELD_SRC).text(json);\n            }\n\n            var options = {\n                onChangeText: function (jsonString) {\n                    $(Selector.FIELD_SRC).text(jsonString);\n                }\n            };\n\n            var divEditorId = 'jsoneditor';\n            $(Selector.FIELD_SRC).hide();\n            $(Selector.JSON_FIELD1).find('[data-fieldtype=\"textarea\"]').attr('id', divEditorId);\n            $(Selector.JSON_FIELD1).find('[data-fieldtype=\"textarea\"]').attr('style', \"width: 100%; height: 400px;\");\n\n            if (json.length === 0) {\n                json = '{}';\n            }\n\n            new JSONEditor.init(document.getElementById(divEditorId), JSON.parse(json), options);\n        }\n    };\n});\n"],"names":["define","$","JSONEditor","Selector","init","json","val","trim","text","options","onChangeText","jsonString","hide","find","attr","length","document","getElementById","JSON","parse"],"mappings":";;;;;;;;;AAyBAA,gDAAO,CACH,SAAU,2BACX,SAAUC,EAAGC,gBAERC,mBACW,aADXA,qBAEa,uBAGV,CACHC,KAAM,eAEEC,KAAOJ,EAAEE,oBAAoBG,MAAMC,OAClCN,EAAEE,oBAAoBG,MAAMC,QAC7BN,EAAEE,oBAAoBK,KAAKH,UAG3BI,QAAU,CACVC,aAAc,SAAUC,YACpBV,EAAEE,oBAAoBK,KAAKG,cAKnCV,EAAEE,oBAAoBS,OACtBX,EAAEE,sBAAsBU,KAAK,+BAA+BC,KAAK,KAF/C,cAGlBb,EAAEE,sBAAsBU,KAAK,+BAA+BC,KAAK,QAAS,+BAEtD,IAAhBT,KAAKU,SACLV,KAAO,UAGPH,WAAWE,KAAKY,SAASC,eATX,cASwCC,KAAKC,MAAMd,MAAOI,UAGvF"}