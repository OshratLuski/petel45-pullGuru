/**
 * Javascript main event handler.
 *
 * @module     local_petel/init
 * @package    local_petel
 * @copyright  2019 Devlionco <info@devlion.co>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      3.6
 */
define("local_petel/update_course_metadata",["jquery","core/str","core/ajax","core/notification","core/modal_events","core/modal_factory","core/templates"],(function($,Str,Ajax,Notification,ModalEvents,ModalFactory,Templates){return{openPopup:function(courseid){Ajax.call([{methodname:"local_petel_popup_update_course_metadata",args:{courseid:courseid},done:function(response){let data=JSON.parse(response);Templates.render("local_petel/update_course_metadata_popup",data).done((function(html,js){!function(html){Str.get_strings([{key:"titlepopupupdatecoursemetadata",component:"local_petel"},{key:"approve",component:"local_petel"}]).done((function(strings){ModalFactory.create({type:ModalFactory.types.SAVE_CANCEL,title:strings[0],body:html}).done((function(modal){modal.setSaveButtonText(strings[1]),modal.getRoot().on(ModalEvents.save,(function(e){e.preventDefault();let courseid=modal.getRoot().find("#courseid").val(),cclass=modal.getRoot().find("#cclass").val(),cclasslevel=modal.getRoot().find("#cclasslevel").val();Ajax.call([{methodname:"local_petel_update_course_metadata",args:{courseid:courseid,cclass:cclass,cclasslevel:cclasslevel},done:function(response){modal.destroy()},fail:Notification.exception}])})),modal.getRoot().on(ModalEvents.hidden,(function(){modal.destroy()})),modal.show()}))}))}(html)}))},fail:Notification.exception}])}}}));

//# sourceMappingURL=update_course_metadata.min.js.map