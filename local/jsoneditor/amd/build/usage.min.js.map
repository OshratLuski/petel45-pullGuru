{"version":3,"file":"usage.min.js","sources":["../src/usage.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript settings handler.\n *\n * @module     local_jsoneditor/usage\n * @package    local_jsoneditor\n * @copyright  2022 Devlionco <info@devlion.co>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.6\n */\n\ndefine([\n    'jquery', 'local_jsoneditor/jsoneditor'\n], function ($, JSONEditor) {\n\n    return {\n        init: function (object, json, options = {}) {\n            $.getJSON(M.cfg.wwwroot + '/local/jsoneditor/locales/he.json', function(langjson) {\n\n                let lang = document.documentElement.lang;\n                if(M.cfg.jsoneditor.lang !== undefined){\n                    lang = M.cfg.jsoneditor.lang;\n                }\n\n                let direction = (lang === 'he' || lang === 'he_kids') ? 'rtl' : 'ltr';\n                if(M.cfg.jsoneditor.direction !== undefined){\n                    direction = M.cfg.jsoneditor.direction;\n                }\n\n                $(object).addClass('direction-' + direction);\n\n                var defaultoptions = {\n                    mode: 'tree',\n                    modes: ['code', 'form', 'text', 'tree'],\n\n                    languages: {\n                        'he': langjson.he,\n                    },\n\n                    language: lang,\n                };\n\n                options.languages = defaultoptions.languages;\n\n                if(options.mode === undefined){\n                    options.mode = defaultoptions.mode;\n                }\n\n                if(options.modes === undefined){\n                    options.modes = defaultoptions.modes;\n                }\n\n                if(options.language === undefined){\n                    options.language = defaultoptions.language;\n                }\n\n                return new JSONEditor(object, options, json);\n            });\n        }\n    };\n});\n"],"names":["define","$","JSONEditor","init","object","json","options","getJSON","M","cfg","wwwroot","langjson","lang","document","documentElement","undefined","jsoneditor","direction","addClass","defaultoptions","mode","modes","languages","he","language"],"mappings":";;;;;;;;;AAyBAA,gCAAO,CACH,SAAU,gCACX,SAAUC,EAAGC,kBAEL,CACHC,KAAM,SAAUC,OAAQC,UAAMC,+DAAU,GACpCL,EAAEM,QAAQC,EAAEC,IAAIC,QAAU,qCAAqC,SAASC,cAEhEC,KAAOC,SAASC,gBAAgBF,UACPG,IAA1BP,EAAEC,IAAIO,WAAWJ,OAChBA,KAAOJ,EAAEC,IAAIO,WAAWJ,UAGxBK,UAAsB,OAATL,MAA0B,YAATA,KAAsB,MAAQ,WAC9BG,IAA/BP,EAAEC,IAAIO,WAAWC,YAChBA,UAAYT,EAAEC,IAAIO,WAAWC,WAGjChB,EAAEG,QAAQc,SAAS,aAAeD,eAE9BE,eAAiB,CACjBC,KAAM,OACNC,MAAO,CAAC,OAAQ,OAAQ,OAAQ,QAEhCC,UAAW,IACDX,SAASY,IAGnBC,SAAUZ,aAGdN,QAAQgB,UAAYH,eAAeG,eAEfP,IAAjBT,QAAQc,OACPd,QAAQc,KAAOD,eAAeC,WAGbL,IAAlBT,QAAQe,QACPf,QAAQe,MAAQF,eAAeE,YAGXN,IAArBT,QAAQkB,WACPlB,QAAQkB,SAAWL,eAAeK,UAG/B,IAAItB,WAAWE,OAAQE,QAASD,UAItD"}