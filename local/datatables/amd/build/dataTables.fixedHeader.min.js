function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}!function(a){"use strict";"function"==typeof define&&define.amd?define ("local_datatables/dataTables.fixedHeader",["jquery","local_datatables/jquery.dataTables"],function(b){return a(b,window,document)}):"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=function(b,c){return b||(b=window),c&&c.fn.dataTable||(c=require("local_datatables/jquery.dataTables")(b,c).$),a(c,b,b.document)}:a(jQuery,window,document)}(function(b,c,g,a){"use strict";var h=b.fn.dataTable,e=0,j=function(d,f){if(!(this instanceof j))throw"FixedHeader must be initialised with the 'new' keyword.";!0===f&&(f={}),d=new h.Api(d),this.c=b.extend(!0,{},j.defaults,f),this.s={dt:d,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:b(c).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:d.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+e++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:b(d.table().header()),tbody:b(d.table().body()),tfoot:b(d.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var g=d.settings()[0];if(g._fixedHeader)throw"FixedHeader already initialised on table "+g.nTable.id;g._fixedHeader=this,this._constructor()};return b.extend(j.prototype,{destroy:function destroy(){this.s.dt.off(".dtfc"),b(c).off(this.s.namespace),this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0)},enable:function enable(b,c){this.s.enable=b,(c||c===a)&&(this._positions(),this._scroll(!0))},enabled:function enabled(){return this.s.enable},headerOffset:function headerOffset(b){return b!==a&&(this.c.headerOffset=b,this.update()),this.c.headerOffset},footerOffset:function footerOffset(b){return b!==a&&(this.c.footerOffset=b,this.update()),this.c.footerOffset},update:function update(){var a=this.s.dt.table().node();b(a).is(":visible")?this.enable(!0,!1):this.enable(!1,!1),this._positions(),this._scroll(!0)},_constructor:function _constructor(){var a=this,e=this.s.dt;b(c).on("scroll"+this.s.namespace,function(){a._scroll()}).on("resize"+this.s.namespace,h.util.throttle(function(){a.s.position.windowHeight=b(c).height(),a.update()},50));var f=b(".fh-fixedHeader");!this.c.headerOffset&&f.length&&(this.c.headerOffset=f.outerHeight());var g=b(".fh-fixedFooter");!this.c.footerOffset&&g.length&&(this.c.footerOffset=g.outerHeight()),e.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc responsive-display.dt.dtfc",function(){a.update()}),e.on("destroy.dtfc",function(){a.destroy()}),this._positions(),this._scroll()},_clone:function _clone(a,c){var d=this.s.dt,e=this.dom[a],f="header"===a?this.dom.thead:this.dom.tfoot;!c&&e.floating?e.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(e.floating&&(e.placeholder.remove(),this._unsize(a),e.floating.children().detach(),e.floating.remove()),e.floating=b(d.table().node().cloneNode(!1)).css("table-layout","fixed").attr("aria-hidden","true").removeAttr("id").append(f).appendTo("body"),e.placeholder=f.clone(!1),e.placeholder.find("*[id]").removeAttr("id"),e.host.prepend(e.placeholder),this._matchWidths(e.placeholder,e.floating))},_matchWidths:function _matchWidths(a,c){var e=function(c){return b(c,a).map(function(){return 1*b(this).css("width").replace(/[^\d\.]/g,"")}).toArray()},f=function(a,d){b(a,c).each(function(a){b(this).css({width:d[a],minWidth:d[a]})})},g=e("th"),h=e("td");f("th",g),f("td",h)},_unsize:function _unsize(a){var c=this.dom[a].floating;c&&("footer"===a||"header"===a&&!this.s.autoWidth)?b("th, td",c).css({width:"",minWidth:""}):c&&"header"===a&&b("th, td",c).css("min-width","")},_horizontal:function _horizontal(a,b){var c=this.dom[a],d=this.s.position,e=this.s.scrollLeft;c.floating&&e[a]!==b&&(c.floating.css("left",d.left-b),e[a]=b)},_modeChange:function _modeChange(c,e,h){this.s.dt;var i=this.dom[e],j=this.s.position,d=function(a){i.floating.attr("style",function(b,c){return(c||"")+"width: "+a+"px !important;"})},a=this.dom["footer"===e?"tfoot":"thead"],f=b.contains(a[0],g.activeElement)?g.activeElement:null;f&&f.blur(),"in-place"===c?(i.placeholder&&(i.placeholder.remove(),i.placeholder=null),this._unsize(e),"header"===e?i.host.prepend(a):i.host.append(a),i.floating&&(i.floating.remove(),i.floating=null)):"in"===c?(this._clone(e,h),i.floating.addClass("fixedHeader-floating").css("header"===e?"top":"bottom",this.c[e+"Offset"]).css("left",j.left+"px"),d(j.width),"footer"===e&&i.floating.css("top","")):"below"===c?(this._clone(e,h),i.floating.addClass("fixedHeader-locked").css("top",j.tfootTop-j.theadHeight).css("left",j.left+"px"),d(j.width)):"above"==c&&(this._clone(e,h),i.floating.addClass("fixedHeader-locked").css("top",j.tbodyTop).css("left",j.left+"px"),d(j.width)),f&&f!==g.activeElement&&setTimeout(function(){f.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[e+"Mode"]=c},_positions:function _positions(){var c=this.s.dt.table(),e=this.s.position,f=this.dom,g=b(c.node()),h=g.children("thead"),i=g.children("tfoot"),d=f.tbody;e.visible=g.is(":visible"),e.width=g.outerWidth(),e.left=g.offset().left,e.theadTop=h.offset().top,e.tbodyTop=d.offset().top,e.tbodyHeight=d.outerHeight(),e.theadHeight=e.tbodyTop-e.theadTop,i.length?(e.tfootTop=i.offset().top,e.tfootBottom=e.tfootTop+i.outerHeight(),e.tfootHeight=e.tfootBottom-e.tfootTop):(e.tfootTop=e.tbodyTop+d.outerHeight(),e.tfootBottom=e.tfootTop,e.tfootHeight=e.tfootTop)},_scroll:function _scroll(c){var e,f,h=b(g).scrollTop(),j=b(g).scrollLeft(),d=this.s.position;this.c.header&&(e=this.s.enable?!d.visible||h<=d.theadTop-this.c.headerOffset?"in-place":h<=d.tfootTop-d.theadHeight-this.c.headerOffset?"in":"below":"in-place",(c||e!==this.s.headerMode)&&this._modeChange(e,"header",c),this._horizontal("header",j)),this.c.footer&&this.dom.tfoot.length&&(f=this.s.enable?!d.visible||h+d.windowHeight>=d.tfootBottom+this.c.footerOffset?"in-place":d.windowHeight+h>d.tbodyTop+d.tfootHeight+this.c.footerOffset?"in":"above":"in-place",(c||f!==this.s.footerMode)&&this._modeChange(f,"footer",c),this._horizontal("footer",j))}}),j.version="3.1.8",j.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},b.fn.dataTable.FixedHeader=j,b.fn.DataTable.FixedHeader=j,b(g).on("init.dt.dtfh",function(c,d){if("dt"===c.namespace){var e=d.oInit.fixedHeader,g=h.defaults.fixedHeader;if((e||g)&&!d._fixedHeader){var a=b.extend({},g,e);!1!==e&&new j(d,a)}}}),h.Api.register("fixedHeader()",function(){}),h.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(a){var b=a._fixedHeader;b&&b.update()})}),h.Api.register("fixedHeader.enable()",function(b){return this.iterator("table",function(c){var d=c._fixedHeader;b=b===a||b,d&&b!==d.enabled()&&d.enable(b)})}),h.Api.register("fixedHeader.enabled()",function(){if(this.context.length){var a=this.context[0]._fixedHeader;if(a)return a.enabled()}return!1}),h.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(a){var b=a._fixedHeader;b&&b.enabled()&&b.enable(!1)})}),b.each(["header","footer"],function(b,c){h.Api.register("fixedHeader."+c+"Offset()",function(b){var d=this.context;return b===a?d.length&&d[0]._fixedHeader?d[0]._fixedHeader[c+"Offset"]():a:this.iterator("table",function(a){var d=a._fixedHeader;d&&d[c+"Offset"](b)})})}),j});
//# sourceMappingURL=dataTables.fixedHeader.min.js.map
