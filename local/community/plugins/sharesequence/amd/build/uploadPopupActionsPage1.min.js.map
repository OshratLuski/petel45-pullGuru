{"version":3,"file":"uploadPopupActionsPage1.min.js","sources":["../src/uploadPopupActionsPage1.js"],"sourcesContent":["/* eslint-disable camelcase */\n/* eslint-disable require-jsdoc */\n// eslint-disable-next-line require-jsdoc\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/templates',\n    'core/str',\n    'core/notification',\n], function ($, Ajax, Templates, str, Notification,) {\n\n    var competencies = {};\n    var maxNumberOfSection = 1;\n\n    function clearDropdown(el) {\n        el.html('');\n\n    }\n    function disableDropdownBtn(el) {\n        if (!el.hasClass('disabled')) {\n            el.addClass('disabled');\n        }\n    }\n    function enableDropdownBtn(el) {\n\n        if (el.hasClass('disabled')) {\n            el.removeClass('disabled');\n        }\n    }\n    function getCompetencies(data) {\n        var unique = Math.floor(Date.now() / 1000);\n        data.categories.forEach(cat => {\n\n            if(cat.courses !== undefined) {\n                cat.courses.forEach(course => {\n                    if (course.competencies.length > 0) {\n                        competencies['course_id-' + course.course_id] = course;\n                        competencies['course_id-' + course.course_id].unique = unique;\n                    }\n                });\n            }\n        });\n    }\n    function showCompetenciesBtn(target, courseid, sectionid) {\n\n        var prop = 'course_id-' + courseid;\n        if (competencies.hasOwnProperty(prop)) {\n            $('.select-competencies-dropdown-wrapper').removeClass('hidden').attr('data-section_id', sectionid);\n            var dropdownMenu = target.find('.select-competency-dropdown-menu');\n            Templates.render('community_sharesequence/elements/dropdown-competency-selector', competencies[prop])\n                .done(function (html, js) {\n                    Templates.replaceNodeContents(dropdownMenu, html, js);\n\n                    $(document).on('click', '.category-dropdown-item', (e) => {\n                        e.stopPropagation();\n                    });\n                })\n                .fail(Notification.exception);\n        } else {\n            target.closest('.section-competency-block').addClass('selected');\n\n            if (maxNumberOfSection > 1 && $('.section-competency-block').length < maxNumberOfSection) {\n                target.closest('.section-competency-block').find('.add-section-competency-block').show();\n            }\n\n        }\n    }\n    function showOercatalogHierarchy(data, dropdownMenu) {\n        Templates.render('community_sharesequence/elements/dropdown-category-selector', data)\n            .done(function (html, js) {\n                Templates.replaceNodeContents(dropdownMenu, html, js);\n\n                $(document).on('click', 'a.category-dropdown-item, a.course-dropdown-item', (e) => {\n                    e.stopPropagation();\n                });\n            })\n            .fail(Notification.exception);\n        competencies = {};\n        getCompetencies(data);\n    }\n\n    function getOercatalogHierarchy(json, dropdownMenu) {\n        Ajax.call([{\n            methodname: 'community_sharesequence_get_oercatalog_hierarchy',\n            args: {\n                selected: json\n            },\n            done: function (response) {\n                let data = JSON.parse(response.hierarchy);\n                showOercatalogHierarchy(data, dropdownMenu);\n            },\n            fail: Notification.exception\n        }]);\n    }\n\n    function addSelectedSection(data, parent) {\n        var root = parent.closest('.section-competency-block');\n        var newBlockId = root.find('.selected-sections-area-wrapper .selected-section-block').length;\n        var newBlock = `\n        <div class=\"selected-section-block border border-primary rounded-pill align-items-center py-1 px-2 mb-2 mr-2\"\n            id=\"selected-section-block-${newBlockId}\" data-cat_id=\"${data.cat_id}\" data-course_id=\"${data.course_id}\" \n            data-section_id=\"${data.section_id}\">\n            <h6 class=\"text-bold mr-2 mb-0 d-inline-flex\">\n                <span class=\"selected-category-name px-1\" id=\"${data.cat_id}\">${data.cat_name}</span>|<span\n                    class=\"selected-course-name px-1\" id=\"${data.course_id}\">${data.course_name}</span>|<span\n                    class=\"selected-section-name px-1\" id=\"${data.section_id}\">${data.section_name}</span>\n            </h6>\n            <button type=\"button px-2\" class=\"close\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n        `;\n        $(newBlock).insertAfter(root.find('button.select-section-dropdown-btn'));\n        disableDropdownBtn(parent);\n        if (!$.isEmptyObject(competencies)) {\n            var target = parent.closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n            showCompetenciesBtn(target, data.course_id, data.section_id);\n        } else if (maxNumberOfSection > 1 && $('.section-competency-block').length < maxNumberOfSection) {\n            root.addClass('selected');\n            root.find('.add-section-competency-block').show();\n        } else {\n            root.addClass('selected');\n        }\n    }\n    function addSelectedCompetency(data, parent) {\n\n        var selectedPill = `\n            <div class=\"selected-competency-block border border-primary rounded-pill align-items-center py-1 px-2 mb-2 mr-2\"\n                id=\"selected-competency-block-${data.comp_id}\" data-comp_id=\"${data.comp_id}\" data-section_id=\"${data.section_id}\">\n                <h6 class=\"text-bold mr-2 mb-0 d-inline-flex\">\n                    <span class=\"selected-competency-name px-1\">${data.comp_name}</span>\n                </h6>\n                <button type=\"button px-2\" class=\"close\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>`;\n        parent.find(\".selected-competencies-area-wrapper\").append(selectedPill);\n        parent.closest('.section-competency-block').addClass('selected');\n        if (maxNumberOfSection > 1 && $('.section-competency-block').length < maxNumberOfSection) {\n\n            parent.siblings('.add-section-competency-block').show();\n        }\n\n    }\n    function removeSelectedCompetencies(target) {\n        target.find('.selected-competency-block').remove();\n        target.find('.select-competency-dropdown-menu').empty();\n        target.addClass('hidden');\n        target.siblings('.add-section-competency-block').hide();\n    }\n    function removeSelectedCompetencyBlock(el) {\n        var comp_id = el.closest('.selected-competency-block').data('comp_id');\n        if (el.closest('.section-competency-block').find('.selected-competency-block').length === 0) {\n            el.closest('.section-competency-block').find('.add-section-competency-block').hide();\n        }\n        el.closest('.select-competencies-dropdown-wrapper')\n            .find('.competency-dropdown-item[data-comp_id=\"' + comp_id + '\"] input').trigger('click');\n    }\n    function removeSelectedSectionBlock(el) {\n        var btn = el.siblings('.dropdown-toggle');\n        var target = el.closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n        if (el.closest('.section-competency-block').siblings('.section-competency-block').length > 0) {\n            var prevBlock = el.closest('.section-competency-block').prev();\n            var nextBlock = el.closest('.section-competency-block').next();\n            if (prevBlock.length > 0 && prevBlock.hasClass('selected')) {\n\n                prevBlock.find('.add-section-competency-block').show();\n            } else if (nextBlock.length > 0 && nextBlock.hasClass('selected')) {\n                nextBlock.find('.add-section-competency-block').show();\n            }\n            el.closest('.section-competency-block').remove();\n        } else {\n            el.remove();\n        }\n        removeSelectedCompetencies(target);\n        enableDropdownBtn(btn);\n        btn.closest('.section-competency-block').find('.add-section-competency-block').hide();\n    }\n    function showAllCompetencies(parent) {\n        parent.find('.competency-dropdown-item').show();\n    }\n\n    function competencyAutocomplete(symbol, parent) {\n        parent.find('.competency-dropdown-item').each(function () {\n            var el = $(this);\n            var string = el.find('label').text();\n            var text = symbol.toLowerCase();\n            if (string.toLowerCase().indexOf(text) === -1) {\n                el.hide();\n            } else {\n                el.show();\n            }\n        });\n    }\n    function checkCompetenciesAreaHeight(target) {\n        var btnHeight = +target.find('button.dropdown-toggle').outerHeight() + 10;\n        var pillsHeight = +target.find('.selected-competencies-area-wrapper').outerHeight();\n        var menu = target.find('.select-competency-dropdown-menu');\n        if (pillsHeight > btnHeight) {\n            menu.css('margin-top', pillsHeight - btnHeight + 10);\n        } else {\n            menu.css('margin-top', 0);\n        }\n    }\n\n    function addSectionCompetencyBlock(prevElement) {\n        var data = [];\n        Templates.render('community_sharesequence/elements/section-competency-block', data)\n            .done(function (html, js) {\n                Templates.appendNodeContents(prevElement, html, js);\n            })\n            .fail(Notification.exception);\n    }\n\n    return {\n\n        init: function (uniqueid, number_sections) {\n\n            maxNumberOfSection = +number_sections;\n            var form = $('#sharing_sequence_form_' + uniqueid);\n\n            form.on('show.bs.dropdown', '.select-section-dropdown-wrapper', function (e) {\n                var target = $(e.target).find('.dropdown-menu');\n                clearDropdown(target);\n                let selected_sections = [];\n                $('.selected-section-block').each(function () {\n                    if (!$(this).hasClass('hidden')) {\n                        selected_sections.push($(this).data(\"section_id\"));\n                    }\n                });\n                let data = JSON.stringify(selected_sections);\n                getOercatalogHierarchy(data, target);\n            });\n\n            form.on('click', '.selected-section-block .close', function () {\n                let parent = $(this).closest('.selected-section-block');\n                removeSelectedSectionBlock(parent);\n            });\n\n            form.on('click', '.selected-competency-block .close', function () {\n                removeSelectedCompetencyBlock($(this));\n            });\n\n            form.on('click', '.section-dropdown-item', function (e) {\n                var btn = $(e.target).closest('.dropdown-menu').siblings('.dropdown-toggle');\n                const data = {\n                    cat_id: $(this).data('cat_id'),\n                    cat_name: $(this).data('cat_name'),\n                    course_id: $(this).data('course_id'),\n                    course_name: $(this).data('course_name'),\n                    section_id: $(this).data('section_id'),\n                    section_name: $(this).data('section_name')\n                };\n                addSelectedSection(data, btn);\n            });\n            form.on('click', '.competency-dropdown-item input', function (e) {\n                var compId = $(e.target).closest('.competency-dropdown-item').data('comp_id');\n                var target = $(e.target).closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n                if (target.find('#selected-competency-block-' + compId).length > 0) {\n                    target.find('#selected-competency-block-' + compId).remove();\n                    if (target.find('.selected-competency-block').length === 0) {\n                        target.siblings('.add-section-competency-block').hide();\n                    }\n                } else {\n                    var parent = $(e.target).closest('.select-competencies-dropdown-wrapper');\n                    const data = {\n                        comp_id: $(this).closest('.competency-dropdown-item').data('comp_id'),\n                        comp_name: $(this).closest('.competency-dropdown-item').data('comp_name'),\n                        section_id: parent.data('section_id'),\n                    };\n                    addSelectedCompetency(data, parent);\n                }\n                checkCompetenciesAreaHeight(target);\n            });\n\n            form.on('shown.bs.dropdown', '.select-competencies-dropdown-wrapper', function (e) {\n                var target = $(e.target).closest('.section-competency-block');\n                setTimeout(function () {\n                    checkCompetenciesAreaHeight(target);\n                }, 10);\n            });\n\n            form.on('click', '.select-competency-dropdown-menu', function (e) {\n                e.stopPropagation();\n            });\n\n            form.on('click', '.no_copyright', function (e) {\n                var parent = $(e.target).closest('.form-group');\n                parent.find('.question-activity-url-wrapper').slideUp();\n            });\n            form.on('click', '.based_on_another_activity', function (e) {\n                var parent = $(e.target).closest('.form-group');\n                parent.find('.question-activity-url-wrapper').slideDown();\n            });\n\n            form.on('keyup', '#competency-auotocmplete', function (e) {\n                var timer;\n                if (timer) {\n                    clearTimeout(timer);\n                }\n\n                var parent = $(e.target).closest('.select-competency-dropdown-menu');\n                var symbol = $(e.target).val();\n\n                timer = setTimeout(function () {\n                    if (symbol === '') {\n                        showAllCompetencies(parent);\n                    } else {\n                        competencyAutocomplete(symbol, parent);\n                    }\n                }, 500);\n            });\n            form.on('click', '.add-section-competency-btn', function (e) {\n                e.stopPropagation();\n                e.preventDefault();\n                var prevElement = $(e.target).closest('.section-competency-block-wrapper');\n                addSectionCompetencyBlock(prevElement);\n                $(e.target).closest('.add-section-competency-block').hide();\n            });\n        },\n\n        createDefaultSelectedSection: function (uniqueid, number_sections, selected_sections) {\n\n            if(!selected_sections.length){\n                return false;\n            }\n\n            let maxNumberOfSection = parseInt(number_sections) + 1;\n            let root = $('.selected-sections-area-wrapper');\n            let sections = JSON.parse(selected_sections);\n\n            $.each(sections, function( index, data ) {\n                addSelectedSection(data, root);\n            });\n\n            // Disable button.\n            if (maxNumberOfSection > 1 && $('.section-competency-block').length >= maxNumberOfSection) {\n                root.find('.btn.select-section-dropdown-btn').addClass('disabled');\n            }\n\n        },\n    }\n})\n"],"names":["define","$","Ajax","Templates","str","Notification","competencies","maxNumberOfSection","showOercatalogHierarchy","data","dropdownMenu","render","done","html","js","replaceNodeContents","document","on","e","stopPropagation","fail","exception","unique","Math","floor","Date","now","categories","forEach","cat","undefined","courses","course","length","course_id","getCompetencies","addSelectedSection","parent","el","root","closest","newBlockId","find","newBlock","cat_id","section_id","cat_name","course_name","section_name","insertAfter","hasClass","addClass","isEmptyObject","show","target","courseid","sectionid","prop","hasOwnProperty","removeClass","attr","showCompetenciesBtn","checkCompetenciesAreaHeight","btnHeight","outerHeight","pillsHeight","menu","css","init","uniqueid","number_sections","form","selected_sections","each","this","push","json","JSON","stringify","call","methodname","args","selected","response","parse","hierarchy","btn","siblings","prevBlock","prev","nextBlock","next","remove","empty","hide","removeSelectedCompetencies","enableDropdownBtn","removeSelectedSectionBlock","comp_id","trigger","compId","selectedPill","comp_name","append","addSelectedCompetency","setTimeout","slideUp","slideDown","timer","clearTimeout","symbol","val","showAllCompetencies","string","text","toLowerCase","indexOf","competencyAutocomplete","preventDefault","prevElement","appendNodeContents","addSectionCompetencyBlock","createDefaultSelectedSection","parseInt","sections","index"],"mappings":"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"}