{"version":3,"file":"render.min.js","sources":["../src/render.js"],"sourcesContent":["define([\r\n    'core/yui',\r\n    'community_social/loadingSpinner',\r\n    'core/ajax',\r\n    'core/templates',\r\n    'core/notification'\r\n], function (Y, loading, Ajax, Templates, Notification) {\r\n    `use strict`;\r\n\r\n    const social = document.querySelector(`#region-main .social`);\r\n\r\n    let render = {\r\n\r\n        // Block Aside User Data.\r\n        userData: function (userid) {\r\n            loading.show();\r\n\r\n            const userData = social.querySelector(`.user`);\r\n\r\n            Ajax.call([{\r\n                methodname: 'community_social_render_block_user_data',\r\n                args: {\r\n                    userid: userid\r\n                },\r\n                done: function (response) {\r\n\r\n                    let data = JSON.parse(response.data);\r\n                    Templates.render('community_social/profile/aside-user-data', data)\r\n                        .done(function (html, js) {\r\n                            Templates.replaceNodeContents(userData, html, js);\r\n                        });\r\n\r\n                    loading.remove();\r\n                },\r\n                fail: function (response) {\r\n                    loading.remove();\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n\r\n        },\r\n\r\n        // Block Aside Courses Pombim.\r\n        asideCoursesPombim: function (userid) {\r\n            loading.show();\r\n\r\n            const coursesPombim = social.querySelector(`.public-course`);\r\n\r\n            Ajax.call([{\r\n                methodname: 'community_social_render_block_aside_courses_pombim',\r\n                args: {\r\n                    userid: userid\r\n                },\r\n                done: function (response) {\r\n\r\n                    let data = JSON.parse(response.data);\r\n                    Templates.render('community_social/profile/aside-public-course', data)\r\n                        .done(function (html, js) {\r\n                            Templates.replaceNodeContents(coursesPombim, html, js);\r\n                        });\r\n\r\n                    loading.remove();\r\n                },\r\n                fail: function (response) {\r\n                    loading.remove();\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n\r\n        },\r\n\r\n        // Block Courses Pombim and Oer.\r\n        coursesBlock: function (userid, search, callback) {\r\n            loading.show();\r\n            const coursesBloack = social.querySelector(`.courses__wrapper`);\r\n\r\n            Ajax.call([{\r\n                methodname: 'community_social_render_profile_blocks',\r\n                args: {\r\n                    userid: userid,\r\n                    search: search\r\n                },\r\n                done: function (response) {\r\n\r\n                    let data = JSON.parse(response.data);\r\n                    Templates.render('community_social/profile/courses', data)\r\n                        .done(function (html, js) {\r\n                            Templates.replaceNodeContents(coursesBloack, html, js);\r\n                        });\r\n\r\n                    loading.remove();\r\n                    callback();\r\n                },\r\n                fail: function (response) {\r\n                    loading.remove();\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n        },\r\n\r\n        // Blocks on search.\r\n        searchInProfile: function (userid, search) {\r\n            loading.show();\r\n\r\n            Ajax.call([{\r\n                methodname: 'community_social_render_profile_blocks',\r\n                args: {\r\n                    userid: userid,\r\n                    search: JSON.stringify(search)\r\n                },\r\n                done: function (response) {\r\n\r\n                    let data = JSON.parse(response.data);\r\n\r\n                    // Courses pombim and oer.\r\n                    const coursesBloack = social.querySelector(`.courses__wrapper`);\r\n                    Templates.render('community_social/profile/courses', data)\r\n                        .done(function (html, js) {\r\n                            Templates.replaceNodeContents(coursesBloack, html, js);\r\n                        });\r\n\r\n                    // Activities oercatalog.\r\n                    const activitiesOer = social.querySelector(`.activities_oer__wrapper`);\r\n                    Templates.render('community_social/profile/activities-oer', data)\r\n                        .done(function (html, js) {\r\n                            Templates.replaceNodeContents(activitiesOer, html, js);\r\n                        });\r\n\r\n                    loading.remove();\r\n                },\r\n                fail: function (response) {\r\n                    loading.remove();\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n\r\n        }\r\n    };\r\n\r\n    return render;\r\n});\r\n"],"names":["define","Y","loading","Ajax","Templates","Notification","social","document","querySelector","userData","userid","show","call","methodname","args","done","response","data","JSON","parse","render","html","js","replaceNodeContents","remove","fail","exception","asideCoursesPombim","coursesPombim","coursesBlock","search","callback","coursesBloack","searchInProfile","stringify","activitiesOer"],"mappings":"AAAAA,iCAAO,CACH,WACA,kCACA,YACA,iBACA,sBACD,SAAUC,EAAGC,QAASC,KAAMC,UAAWC,oBAGhCC,OAASC,SAASC,4CAEX,CAGTC,SAAU,SAAUC,QAChBR,QAAQS,aAEFF,SAAWH,OAAOE,uBAExBL,KAAKS,KAAK,CAAC,CACPC,WAAY,0CACZC,KAAM,CACFJ,OAAQA,QAEZK,KAAM,SAAUC,cAERC,KAAOC,KAAKC,MAAMH,SAASC,MAC/Bb,UAAUgB,OAAO,2CAA4CH,MACxDF,MAAK,SAAUM,KAAMC,IAClBlB,UAAUmB,oBAAoBd,SAAUY,KAAMC,OAGtDpB,QAAQsB,UAEZC,KAAM,SAAUT,UACZd,QAAQsB,SACRnB,aAAaqB,UAAUV,eAOnCW,mBAAoB,SAAUjB,QAC1BR,QAAQS,aAEFiB,cAAgBtB,OAAOE,gCAE7BL,KAAKS,KAAK,CAAC,CACPC,WAAY,qDACZC,KAAM,CACFJ,OAAQA,QAEZK,KAAM,SAAUC,cAERC,KAAOC,KAAKC,MAAMH,SAASC,MAC/Bb,UAAUgB,OAAO,+CAAgDH,MAC5DF,MAAK,SAAUM,KAAMC,IAClBlB,UAAUmB,oBAAoBK,cAAeP,KAAMC,OAG3DpB,QAAQsB,UAEZC,KAAM,SAAUT,UACZd,QAAQsB,SACRnB,aAAaqB,UAAUV,eAOnCa,aAAc,SAAUnB,OAAQoB,OAAQC,UACpC7B,QAAQS,aACFqB,cAAgB1B,OAAOE,mCAE7BL,KAAKS,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CACFJ,OAAQA,OACRoB,OAAQA,QAEZf,KAAM,SAAUC,cAERC,KAAOC,KAAKC,MAAMH,SAASC,MAC/Bb,UAAUgB,OAAO,mCAAoCH,MAChDF,MAAK,SAAUM,KAAMC,IAClBlB,UAAUmB,oBAAoBS,cAAeX,KAAMC,OAG3DpB,QAAQsB,SACRO,YAEJN,KAAM,SAAUT,UACZd,QAAQsB,SACRnB,aAAaqB,UAAUV,eAMnCiB,gBAAiB,SAAUvB,OAAQoB,QAC/B5B,QAAQS,OAERR,KAAKS,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CACFJ,OAAQA,OACRoB,OAAQZ,KAAKgB,UAAUJ,SAE3Bf,KAAM,SAAUC,cAERC,KAAOC,KAAKC,MAAMH,SAASC,YAGzBe,cAAgB1B,OAAOE,mCAC7BJ,UAAUgB,OAAO,mCAAoCH,MAChDF,MAAK,SAAUM,KAAMC,IAClBlB,UAAUmB,oBAAoBS,cAAeX,KAAMC,aAIrDa,cAAgB7B,OAAOE,0CAC7BJ,UAAUgB,OAAO,0CAA2CH,MACvDF,MAAK,SAAUM,KAAMC,IAClBlB,UAAUmB,oBAAoBY,cAAed,KAAMC,OAG3DpB,QAAQsB,UAEZC,KAAM,SAAUT,UACZd,QAAQsB,SACRnB,aAAaqB,UAAUV"}