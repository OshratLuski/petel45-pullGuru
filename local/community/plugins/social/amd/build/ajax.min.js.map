{"version":3,"file":"ajax.min.js","sources":["../src/ajax.js"],"sourcesContent":["define([\r\n    'jquery',\r\n    'core/yui',\r\n    'community_social/loadingSpinner',\r\n    'core/ajax',\r\n    'core/notification'\r\n], function ($, Y, loading, Ajax, Notification) {\r\n    `use strict`;\r\n\r\n    let ajax = {\r\n\r\n        data: {},\r\n\r\n        run: function (callback) {\r\n\r\n            var method = this.data.metod;\r\n            delete this.data.metod;\r\n\r\n            Ajax.call([{\r\n                methodname: method,\r\n                args: this.data,\r\n                done: function (response) {\r\n                    callback(response);\r\n                },\r\n                fail: function (response) {\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n\r\n        },\r\n\r\n        setHTML: function (callback) {\r\n\r\n            loading.show();\r\n            const targetBlock = document.querySelector(this.data.target_block);\r\n\r\n            var method = this.data.metod;\r\n            delete this.data.metod;\r\n            delete this.data.target_block;\r\n\r\n            Ajax.call([{\r\n                methodname: method,\r\n                args: this.data,\r\n                done: function (response) {\r\n                    targetBlock.innerHTML = response.content;\r\n                    loading.remove();\r\n                    callback(response);\r\n                },\r\n                fail: function (response) {\r\n                    loading.remove();\r\n                    Notification.exception(response);\r\n                },\r\n            }]);\r\n\r\n\r\n        },\r\n    };\r\n\r\n    return ajax;\r\n\r\n});\r\n"],"names":["define","$","Y","loading","Ajax","Notification","data","run","callback","method","this","metod","call","methodname","args","done","response","fail","exception","setHTML","show","targetBlock","document","querySelector","target_block","innerHTML","content","remove"],"mappings":"AAAAA,+BAAO,CACH,SACA,WACA,kCACA,YACA,sBACD,SAAUC,EAAGC,EAAGC,QAASC,KAAMC,oBAGnB,CAEPC,KAAM,GAENC,IAAK,SAAUC,cAEPC,OAASC,KAAKJ,KAAKK,aAChBD,KAAKJ,KAAKK,MAEjBP,KAAKQ,KAAK,CAAC,CACPC,WAAYJ,OACZK,KAAMJ,KAAKJ,KACXS,KAAM,SAAUC,UACZR,SAASQ,WAEbC,KAAM,SAAUD,UACZX,aAAaa,UAAUF,eAMnCG,QAAS,SAAUX,UAEfL,QAAQiB,aACFC,YAAcC,SAASC,cAAcb,KAAKJ,KAAKkB,kBAEjDf,OAASC,KAAKJ,KAAKK,aAChBD,KAAKJ,KAAKK,aACVD,KAAKJ,KAAKkB,aAEjBpB,KAAKQ,KAAK,CAAC,CACPC,WAAYJ,OACZK,KAAMJ,KAAKJ,KACXS,KAAM,SAAUC,UACZK,YAAYI,UAAYT,SAASU,QACjCvB,QAAQwB,SACRnB,SAASQ,WAEbC,KAAM,SAAUD,UACZb,QAAQwB,SACRtB,aAAaa,UAAUF"}