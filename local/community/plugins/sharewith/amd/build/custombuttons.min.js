/**
 * Javascript controller for the "Actions" panel at the bottom of the page.
 *
 * @module     community_sharewith/custombuttons
 * @package
 * @copyright  2018 Devlion <info@devlion.co>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      3.6
 */
define("community_sharewith/custombuttons",["jquery","core/ajax","core/notification","core/templates","community_sharewith/modal","community_sharewith/storage"],(function($,Ajax,Notification,Templates,modal,St){return{resultBlock:"",tagWrapper:"",input:"",init:function(){var root=modal.modalWrapper;root.addEventListener("click",function(e){for(var target=e.target;root.contains(target);){switch(target.dataset.handler){case"petelMessage":this.petelMessage();break;case"toWhatsapp":this.toWhatsapp();break;case"copyToClipboard":this.copyToClipboard()}target=target.parentNode}}.bind(this)),$("#modalSharewith").on("hide.bs.modal",(function(){document.querySelector(".copytoclipboard_alert")&&$(".copytoclipboard_alert").alert("close")}))},petelMessage:function(){let url=M.cfg.wwwroot+"/local/resourcenotif/resourcenotif.php?id="+St.cmid,win=window.open(url,"_blank");win&&win.focus()},toWhatsapp:function(){let url="https://api.whatsapp.com/send/?text="+St.cmlink+"&type=custom_url&app_absent=0",win=window.open(url,"_blank");win&&win.focus()},copyToClipboard:function(){let text=St.cmlink,context={};navigator.clipboard.writeText(text).then((()=>Templates.render("community_sharewith/copytoclipboard_alert",context).done((function(html,js){Templates.appendNodeContents("body",html,js),setTimeout((()=>{$(".copytoclipboard_alert").alert("close")}),2e3)})).fail(Notification.exception)),(()=>{}))}}}));

//# sourceMappingURL=custombuttons.min.js.map