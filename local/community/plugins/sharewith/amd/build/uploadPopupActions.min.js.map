{"version":3,"file":"uploadPopupActions.min.js","sources":["../src/uploadPopupActions.js"],"sourcesContent":["/* eslint-disable camelcase */\n/* eslint-disable require-jsdoc */\n// eslint-disable-next-line require-jsdoc\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/templates',\n    'core/str',\n    'core/notification',\n], function($, Ajax, Templates, str, Notification,) {\n\n    var competencies = {};\n    var maxNumberOfSection = 1;\n\n    /**\n     * @param el\n     */\n    function clearDropdown(el) {\n        el.html('');\n\n    }\n\n    /**\n     * @param el\n     */\n    function disableDropdownBtn(el) {\n        if (!el.hasClass('disabled')) {\n            el.addClass('disabled');\n        }\n    }\n\n    /**\n     * @param el\n     */\n    function enableDropdownBtn(el) {\n\n        if (el.hasClass('disabled')) {\n            el.removeClass('disabled');\n        }\n    }\n\n    /**\n     * @param data\n     * @param dropdownMenu\n     */\n    function getCompetencies(data, dropdownMenu) {\n        var unique = Math.floor(Date.now() / 1000);\n\n        var obj = $(dropdownMenu).parent().parent().parent().parent().find('.section-competency-block');\n        var competenciesEnable = true;\n        if (obj.length > 1) {\n            competenciesEnable = false;\n        }\n\n        data.categories.forEach(cat => {\n            cat.courses.forEach(course => {\n                if (competenciesEnable && course.competencies.length > 0) {\n                    competencies['course_id-' + course.course_id] = course;\n                    competencies['course_id-' + course.course_id].unique = unique;\n                }\n                if (competenciesEnable && course.sections.length > 0) {\n                    course.sections.forEach(sections => {\n                        if (sections.section_competency.length > 0) {\n                            sections.section_competency.forEach(el => {\n                                competencies['course_id-' + course.course_id] = course;\n                                competencies['course_id-' + course.course_id].unique = unique;\n                            });\n                        }\n                    });\n                }\n            });\n        });\n    }\n\n    /**\n     * @param target\n     * @param courseid\n     * @param sectionid\n     */\n    function showCompetenciesBtn(target, courseid, sectionid) {\n\n        var prop = 'course_id-' + courseid;\n        if (competencies.hasOwnProperty(prop)) {\n            $('.select-competencies-dropdown-wrapper').removeClass('hidden').attr('data-section_id', sectionid);\n            var dropdownMenu = target.find('.select-competency-dropdown-menu');\n            let context;\n            if (competencies[prop].competencies.length > 0) {\n                context = competencies[prop];\n            } else if (competencies[prop].sections.length > 0) {\n                context = {};\n                competencies[prop].sections.forEach(function(el) {\n                    if (+el.section_id === sectionid) {\n                        context.competencies = el.section_competency;\n                    }\n                });\n\n            }\n            Templates.render('community_sharewith/elements/dropdown-competency-selector', context)\n                .done(function(html, js) {\n                    Templates.replaceNodeContents(dropdownMenu, html, js);\n\n                    $(document).on('click', '.category-dropdown-item', (e) => {\n                        e.stopPropagation();\n                    });\n                })\n                .fail(Notification.exception);\n        } else {\n            target.closest('.section-competency-block').addClass('selected');\n\n            var obj = target.closest('.section-competency-block').parent().find('.section-competency-block');\n\n            if (maxNumberOfSection > 1 && obj.length < maxNumberOfSection) {\n                target.closest('.section-competency-block').find('.add-section-competency-block').show();\n            }\n\n        }\n    }\n\n    /**\n     * @param data\n     * @param dropdownMenu\n     */\n    function showOercatalogHierarchy(data, dropdownMenu) {\n        Templates.render('community_sharewith/elements/dropdown-category-selector', data)\n            .done(function(html, js) {\n                Templates.replaceNodeContents(dropdownMenu, html, js);\n\n                $(document).on('click', 'a.category-dropdown-item, a.course-dropdown-item', (e) => {\n                    e.stopPropagation();\n                });\n            })\n            .fail(Notification.exception);\n        competencies = {};\n        getCompetencies(data, dropdownMenu);\n    }\n\n    /**\n     * @param json\n     * @param dropdownMenu\n     */\n    function getOercatalogHierarchy(json, dropdownMenu) {\n        Ajax.call([{\n            methodname: 'community_sharewith_get_oercatalog_hierarchy',\n            args: {\n                selected: json\n            },\n            done: function(response) {\n                let data = JSON.parse(response.hierarchy);\n                showOercatalogHierarchy(data, dropdownMenu);\n            },\n            fail: Notification.exception\n        }]);\n    }\n\n    /**\n     * @param data\n     * @param parent\n     */\n    function addSelectedSection(data, parent) {\n        var root = parent.closest('.section-competency-block');\n        var newBlockId = root.find('.selected-sections-area-wrapper .selected-section-block').length;\n        var newBlock = `\n        <div class=\"selected-section-block border border-primary rounded-pill align-items-center py-1 px-2 mb-2 mr-2\"\n            id=\"selected-section-block-${newBlockId}\" data-cat_id=\"${data.cat_id}\" data-course_id=\"${data.course_id}\" data-section_id=\"${data.section_id}\">\n            <h6 class=\"text-bold mr-2 mb-0 d-inline-flex\">\n                <span class=\"selected-category-name px-1\" id=\"${data.cat_id}\">${data.cat_name}</span>|<span\n                    class=\"selected-course-name px-1\" id=\"${data.course_id}\">${data.course_name}</span>|<span\n                    class=\"selected-section-name px-1\" id=\"${data.section_id}\">${data.section_name}</span>\n            </h6>\n            <button type=\"button px-2\" class=\"close\" aria-label=\"Close\">\n                <span aria-hidden=\"true\">&times;</span>\n            </button>\n        </div>\n        `;\n        $(newBlock).insertAfter(root.find('button.select-section-dropdown-btn'));\n        disableDropdownBtn(parent);\n\n        var obj = parent.closest('.section-competency-block').parent().find('.section-competency-block');\n\n        if (!$.isEmptyObject(competencies)) {\n            var target = parent.closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n            showCompetenciesBtn(target, data.course_id, data.section_id);\n        } else if (maxNumberOfSection > 1 && obj.length < maxNumberOfSection) {\n            root.addClass('selected');\n            root.find('.add-section-competency-block').show();\n        } else {\n            root.addClass('selected');\n        }\n    }\n\n    /**\n     * @param data\n     * @param parent\n     */\n    function addSelectedCompetency(data, parent) {\n\n        var selectedPill = `\n            <div class=\"selected-competency-block border border-primary rounded-pill align-items-center py-1 px-2 mb-2 mr-2\"\n                id=\"selected-competency-block-${data.comp_id}\" data-comp_id=\"${data.comp_id}\" data-section_id=\"${data.section_id}\">\n                <h6 class=\"text-bold mr-2 mb-0 d-inline-flex\">\n                    <span class=\"selected-competency-name px-1\">${data.comp_name}</span>\n                </h6>\n                <button type=\"button px-2\" class=\"close\" aria-label=\"Close\">\n                    <span aria-hidden=\"true\">&times;</span>\n                </button>\n            </div>`;\n        parent.find(\".selected-competencies-area-wrapper\").append(selectedPill);\n        parent.closest('.section-competency-block').addClass('selected');\n\n        var obj = parent.closest('.section-competency-block').parent().find('.section-competency-block');\n\n        if (maxNumberOfSection > 1 && obj.length < maxNumberOfSection) {\n            parent.siblings('.add-section-competency-block').show();\n        }\n\n    }\n\n    /**\n     * @param target\n     */\n    function removeSelectedCompetencies(target) {\n        target.find('.selected-competency-block').remove();\n        target.find('.select-competency-dropdown-menu').empty();\n        target.addClass('hidden');\n        target.siblings('.add-section-competency-block').hide();\n    }\n\n    /**\n     * @param el\n     */\n    function removeSelectedCompetencyBlock(el) {\n        var comp_id = el.closest('.selected-competency-block').data('comp_id');\n        if (el.closest('.section-competency-block').find('.selected-competency-block').length === 0) {\n            el.closest('.section-competency-block').find('.add-section-competency-block').hide();\n        }\n        el.closest('.select-competencies-dropdown-wrapper')\n            .find('.competency-dropdown-item[data-comp_id=\"' + comp_id + '\"] input').trigger('click');\n    }\n\n    /**\n     * @param el\n     */\n    function removeSelectedSectionBlock(el) {\n        var btn = el.siblings('.dropdown-toggle');\n        var target = el.closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n        if (el.closest('.section-competency-block').siblings('.section-competency-block').length > 0) {\n            var prevBlock = el.closest('.section-competency-block').prev();\n            var nextBlock = el.closest('.section-competency-block').next();\n            if (prevBlock.length > 0 && prevBlock.hasClass('selected')) {\n\n                prevBlock.find('.add-section-competency-block').show();\n            } else if (nextBlock.length > 0 && nextBlock.hasClass('selected')) {\n                nextBlock.find('.add-section-competency-block').show();\n            }\n            el.closest('.section-competency-block').remove();\n        } else {\n            el.remove();\n        }\n        removeSelectedCompetencies(target);\n        enableDropdownBtn(btn);\n        btn.closest('.section-competency-block').find('.add-section-competency-block').hide();\n    }\n\n    /**\n     * @param parent\n     */\n    function showAllCompetencies(parent) {\n        parent.find('.competency-dropdown-item').show();\n    }\n\n    /**\n     * @param symbol\n     * @param parent\n     */\n    function competencyAutocomplete(symbol, parent) {\n        parent.find('.competency-dropdown-item').each(function() {\n            var el = $(this);\n            var string = el.find('label').text();\n            var text = symbol.toLowerCase();\n            if (string.toLowerCase().indexOf(text) === -1) {\n                el.hide();\n            } else {\n                el.show();\n            }\n        });\n    }\n\n    /**\n     * @param target\n     */\n    function checkCompetenciesAreaHeight(target) {\n        var btnHeight = +target.find('button.dropdown-toggle').outerHeight() + 10;\n        var pillsHeight = +target.find('.selected-competencies-area-wrapper').outerHeight();\n        var menu = target.find('.select-competency-dropdown-menu');\n        if (pillsHeight > btnHeight) {\n            menu.css('margin-top', pillsHeight - btnHeight + 10);\n        } else {\n            menu.css('margin-top', 0);\n        }\n    }\n\n    /**\n     * @param prevElement\n     */\n    function addSectionCompetencyBlock(prevElement) {\n        var data = [];\n        Templates.render('community_sharewith/elements/section-competency-block', data)\n            .done(function(html, js) {\n                Templates.appendNodeContents(prevElement, html, js);\n            })\n            .fail(Notification.exception);\n    }\n\n    /**\n     * @param form\n     * @param default_section\n     * @param default_competencies\n     */\n    function setDefaultSection(form, default_section, default_competencies) {\n\n        let data = JSON.parse(default_section);\n        let competencies = JSON.parse(default_competencies);\n\n        if (Object.keys(data).length !== 6) {\n            return false;\n        }\n\n        var target = form.find('.dropdown-menu');\n\n        // Build.\n        clearDropdown(target);\n        let selected_sections = [];\n\n        // $('.selected-section-block').each(function () {\n        //     if (!$(this).hasClass('hidden')) {\n        //         selected_sections.push($(this).data(\"section_id\"));\n        //     }\n        // });\n        let data_sections = JSON.stringify(selected_sections);\n        getOercatalogHierarchy(data_sections, target);\n\n        // Set.\n        setTimeout(function() {\n            var btn = target.closest('.dropdown-menu').siblings('.dropdown-toggle');\n            const tmp = {\n                cat_id: data.cat_id,\n                cat_name: data.cat_name,\n                course_id: data.course_id,\n                course_name: data.course_name,\n                section_id: data.section_id,\n                section_name: data.section_name\n            };\n\n            addSelectedSection(tmp, btn);\n\n            $('.select-competencies-dropdown-btn').removeClass('disabled');\n\n            // Set Competencies.\n            setTimeout(function() {\n\n                $.each(competencies, function(index, value) {\n                    $('*[data-comp_id=\"' + value + '\"]').find('input').click();\n                });\n\n            }, 500);\n\n        }, 500);\n    }\n\n    return {\n\n        init: function(uniqueid, number_sections, default_section, default_competencies) {\n\n            maxNumberOfSection = +number_sections;\n            var form = $('#sharing_activities_form_' + uniqueid);\n\n            setDefaultSection(form, default_section, default_competencies);\n\n            form.on('show.bs.dropdown', '.select-section-dropdown-wrapper', function(e) {\n                var target = $(e.target).find('.dropdown-menu');\n                clearDropdown(target);\n                let selected_sections = [];\n                $('.selected-section-block').each(function() {\n                    if (!$(this).hasClass('hidden')) {\n                        selected_sections.push($(this).data(\"section_id\"));\n                    }\n                });\n                let data = JSON.stringify(selected_sections);\n                getOercatalogHierarchy(data, target);\n            });\n\n            form.on('click', '.selected-section-block .close', function() {\n                let parent = $(this).closest('.selected-section-block');\n                removeSelectedSectionBlock(parent);\n            });\n\n            form.on('click', '.selected-competency-block .close', function() {\n                removeSelectedCompetencyBlock($(this));\n            });\n\n            form.on('click', '.section-dropdown-item', function(e) {\n                var btn = $(e.target).closest('.dropdown-menu').siblings('.dropdown-toggle');\n                const data = {\n                    cat_id: $(this).data('cat_id'),\n                    cat_name: $(this).data('cat_name'),\n                    course_id: $(this).data('course_id'),\n                    course_name: $(this).data('course_name'),\n                    section_id: $(this).data('section_id'),\n                    section_name: $(this).data('section_name')\n                };\n                addSelectedSection(data, btn);\n            });\n            form.on('click', '.competency-dropdown-item input', function(e) {\n                var compId = $(e.target).closest('.competency-dropdown-item').data('comp_id');\n                var target = $(e.target).closest('.section-competency-block').find('.select-competencies-dropdown-wrapper');\n                if (target.find('#selected-competency-block-' + compId).length > 0) {\n                    target.find('#selected-competency-block-' + compId).remove();\n                    if (target.find('.selected-competency-block').length === 0) {\n                        target.siblings('.add-section-competency-block').hide();\n                    }\n                } else {\n                    var parent = $(e.target).closest('.select-competencies-dropdown-wrapper');\n                    const data = {\n                        comp_id: $(this).closest('.competency-dropdown-item').data('comp_id'),\n                        comp_name: $(this).closest('.competency-dropdown-item').data('comp_name'),\n                        section_id: parent.data('section_id'),\n                    };\n                    addSelectedCompetency(data, parent);\n                }\n                checkCompetenciesAreaHeight(target);\n            });\n\n            form.on('shown.bs.dropdown', '.select-competencies-dropdown-wrapper', function(e) {\n                var target = $(e.target).closest('.section-competency-block');\n                setTimeout(function() {\n                    checkCompetenciesAreaHeight(target);\n                }, 10);\n            });\n\n            form.on('click', '.select-competency-dropdown-menu', function(e) {\n                e.stopPropagation();\n            });\n\n            form.on('click', '.no_copyright', function(e) {\n                var parent = $(e.target).closest('.form-group');\n                parent.find('.question-activity-url-wrapper').slideUp();\n            });\n            form.on('click', '.based_on_another_activity', function(e) {\n                var parent = $(e.target).closest('.form-group');\n                parent.find('.question-activity-url-wrapper').slideDown();\n            });\n\n            form.on('keyup', '#competency-auotocmplete', function(e) {\n                var timer;\n                if (timer) {\n                    clearTimeout(timer);\n                }\n\n                var parent = $(e.target).closest('.select-competency-dropdown-menu');\n                var symbol = $(e.target).val();\n\n                timer = setTimeout(function() {\n                    if (symbol === '') {\n                        showAllCompetencies(parent);\n                    } else {\n                        competencyAutocomplete(symbol, parent);\n                    }\n                }, 500);\n            });\n            form.on('click', '.add-section-competency-btn', function(e) {\n                e.stopPropagation();\n                e.preventDefault();\n                var prevElement = $(e.target).closest('.section-competency-block-wrapper');\n                addSectionCompetencyBlock(prevElement);\n                $(e.target).closest('.add-section-competency-block').hide();\n            });\n        },\n    };\n});\n"],"names":["define","$","Ajax","Templates","str","Notification","competencies","maxNumberOfSection","clearDropdown","el","html","showOercatalogHierarchy","data","dropdownMenu","render","done","js","replaceNodeContents","document","on","e","stopPropagation","fail","exception","unique","Math","floor","Date","now","obj","parent","find","competenciesEnable","length","categories","forEach","cat","courses","course","course_id","sections","section_competency","getCompetencies","getOercatalogHierarchy","json","call","methodname","args","selected","response","JSON","parse","hierarchy","addSelectedSection","root","closest","newBlockId","newBlock","cat_id","section_id","cat_name","course_name","section_name","insertAfter","hasClass","addClass","isEmptyObject","show","target","courseid","sectionid","prop","hasOwnProperty","removeClass","attr","context","showCompetenciesBtn","checkCompetenciesAreaHeight","btnHeight","outerHeight","pillsHeight","menu","css","init","uniqueid","number_sections","default_section","default_competencies","form","Object","keys","stringify","setTimeout","btn","siblings","each","index","value","click","setDefaultSection","selected_sections","this","push","prevBlock","prev","nextBlock","next","remove","empty","hide","removeSelectedCompetencies","enableDropdownBtn","removeSelectedSectionBlock","comp_id","trigger","compId","selectedPill","comp_name","append","addSelectedCompetency","slideUp","slideDown","timer","clearTimeout","symbol","val","showAllCompetencies","string","text","toLowerCase","indexOf","competencyAutocomplete","preventDefault","prevElement","appendNodeContents","addSectionCompetencyBlock"],"mappings":"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"}