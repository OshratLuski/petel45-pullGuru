{"version":3,"file":"question.min.js","sources":["../src/question.js"],"sourcesContent":["define([\r\n    'jquery',\r\n    'core/yui',\r\n    'core/str',\r\n    'core/modal_factory',\r\n    'core/modal_events',\r\n    'core/ajax',\r\n    'core/templates',\r\n    'core/notification',\r\n\r\n], function ($, Y, Str, ModalFactory, ModalEvents, Ajax, Templates, Notification) {\r\n    `use strict`;\r\n\r\n    let SELECTORS = {\r\n        mainAside: '.main-aside',\r\n        mainDashboard: '.main-dashboard',\r\n        mainTitle: '.main-title',\r\n        filterPills: '.checked-option-pills',\r\n        filterButtonArea: '.activity-filters',\r\n        totalItems: '.total-activities-block',\r\n        blockContent: '.activity-blocks-content',\r\n        mainTotalElementsActivity: '.main-total-elements-activity',\r\n        mainTotalElementsQuestion: '.main-total-elements-question',\r\n        mainTotalElementsSequence: '.main-total-elements-sequence',\r\n        mainTotalElementsCourse: '.main-total-elements-course',\r\n    };\r\n\r\n    let current_aside_question = {};\r\n    let prev_search_question = {};\r\n    let default_filters_question = {};\r\n    let if_iframe = false;\r\n    let if_scroll_up = false;\r\n\r\n    return {\r\n        init: function (callback) {\r\n\r\n            // Get status of iframe.\r\n            if_iframe = $('#main-page-iframe').val();\r\n\r\n            // Get instance question.\r\n            Ajax.call([{\r\n                methodname: 'community_oer_get_question_instance',\r\n                args: {},\r\n                done: function (response) {\r\n                    callback(response);\r\n                },\r\n                fail: Notification.exception\r\n            }]);\r\n        },\r\n\r\n        mergeInstanceWithPreset: function (instance_data, preset_data, callback) {\r\n            callback(instance_data);\r\n        },\r\n\r\n        renderInstance: function (instance_data, current_aside, prev_search, preset_data, callback) {\r\n            let self = this;\r\n\r\n            default_filters_question = instance_data.default_filters;\r\n            current_aside_question = current_aside;\r\n            prev_search_question = prev_search;\r\n\r\n            this.mergeInstanceWithPreset(instance_data, preset_data, function (data) {\r\n\r\n                // Render aside.\r\n                Templates.render('community_oer/question/aside', data)\r\n                    .done(function (html, js) {\r\n\r\n                        if(current_aside_question.render_aside) {\r\n                            Templates.replaceNodeContents(SELECTORS.mainAside, html, js);\r\n                        }\r\n\r\n                        // Render dashboard.\r\n                        Templates.render('community_oer/question/dashboard', data)\r\n                            .done(function (html, js) {\r\n                                Templates.replaceNodeContents(SELECTORS.mainDashboard, html, js);\r\n\r\n                                if(prev_search_question.length > 0) {\r\n                                    $.each(prev_search_question, function (index, value) {\r\n\r\n                                        // Set without split.\r\n                                        value = '\"' + value + '\"';\r\n\r\n                                        let param = value;\r\n                                        self.createPillSearch(param, value, function () {\r\n                                            self.defaultRenderBlocks();\r\n                                            callback();\r\n                                        });\r\n                                    });\r\n                                }else{\r\n                                    self.defaultRenderBlocks();\r\n                                    callback();\r\n                                }\r\n                            })\r\n                            .fail(Notification.exception);\r\n                    })\r\n                    .fail(Notification.exception);\r\n            });\r\n        },\r\n\r\n        defaultRenderBlocks: function () {\r\n            let self = this;\r\n\r\n            // Default filters\r\n            let filters = $(\"*\").filter(function () {\r\n                return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'filters');\r\n            });\r\n\r\n            $.each(default_filters_question , function(key, value) {\r\n                $(filters).each(function () {\r\n                    if($(this).data(\"action\") === value.filter && $(this).data(\"value\") === value.value){\r\n                        $(this).data(\"selected\", \"1\");\r\n                        $(this).prop('checked', true);\r\n                        let text = $(this).parent().find('label').html().trim();\r\n                        self.createPill($(this).attr(\"id\"), text);\r\n                    }\r\n                });\r\n            });\r\n\r\n            // Default render blocks.\r\n            let elements = $(\"*\").filter(function () {\r\n                return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sidemenu');\r\n            });\r\n\r\n            $(elements).each(function () {\r\n\r\n                // Click on category, course, section.\r\n                if ($(this).data(\"action\") === current_aside_question.type &&\r\n                    $(this).data(\"value\") === current_aside_question.value &&\r\n                    $(this).data(\"secondaction\") === undefined &&\r\n                    current_aside_question.url_params.childcategory === undefined\r\n                ) {\r\n\r\n                    $(this).click();\r\n                }\r\n\r\n                // Click on section childcategory.\r\n                if ($(this).data(\"action\") === current_aside_question.type &&\r\n                    $(this).data(\"value\") === current_aside_question.value &&\r\n                    current_aside_question.url_params.childcategory !== undefined &&\r\n                    $(this).data(\"childcategory\") === parseInt(current_aside_question.url_params.childcategory)\r\n                ) {\r\n                    $(this).click();\r\n                }\r\n            });\r\n        },\r\n\r\n        actionOnClick: function (object) {\r\n            let data = $(object).data();\r\n            let self = this;\r\n\r\n            if (data.area === 'sidemenu') {\r\n                let elements = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sidemenu');\r\n                });\r\n\r\n                $(elements).each(function () {\r\n                    $(this).removeData(\"selected\");\r\n                });\r\n\r\n                $(object).data(\"selected\", \"1\");\r\n            }\r\n\r\n            if (data.area === 'filters') {\r\n                if ($(object).data(\"selected\") !== undefined) {\r\n                    $(object).removeData(\"selected\");\r\n                    this.removePill($(object).attr(\"id\"));\r\n                } else {\r\n                    $(object).data(\"selected\", \"1\");\r\n                    let text = $(object).parent().find('label').html().trim();\r\n                    this.createPill($(object).attr(\"id\"), text);\r\n                }\r\n            }\r\n\r\n            // Paging.\r\n            if (data.area === 'paging') {\r\n                let elements = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'paging');\r\n                });\r\n\r\n                $(elements).each(function () {\r\n                    $(this).data(\"selected\", 0);\r\n                });\r\n\r\n                $(object).data(\"selected\", \"1\");\r\n\r\n                if_scroll_up = true;\r\n            }\r\n\r\n            if (data.area !== 'paging') {\r\n                let elements = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'paging');\r\n                });\r\n\r\n                $(elements).each(function () {\r\n                    $(this).data(\"selected\", 0);\r\n                });\r\n            }\r\n\r\n            // Hidden questions.\r\n            if (data.area === 'hidden') {\r\n                if ($(object).data(\"selected\") !== undefined) {\r\n                    $(object).removeData(\"selected\");\r\n                } else {\r\n                    $(object).data(\"selected\", \"1\");\r\n                }\r\n            }\r\n\r\n            // View only hidden questions.\r\n            if (data.area === 'view-only-hidden') {\r\n                if ($(object).data(\"selected\") !== undefined) {\r\n                    $(object).removeData(\"selected\");\r\n                } else {\r\n                    $(object).data(\"selected\", \"1\");\r\n                }\r\n            }\r\n\r\n            // Remove pill.\r\n            if (data.area === 'pill') {\r\n                let id = data.value;\r\n                $(SELECTORS.filterButtonArea).find(\"#\" + id).trigger('click');\r\n\r\n                // Remove button remove all pills.\r\n                let buttons = $(SELECTORS.filterPills).find('button');\r\n                if (buttons.length === 1) {\r\n                    buttons.remove();\r\n                }\r\n            }\r\n\r\n            // Remove pill search.\r\n            if (data.area === 'pillsearch') {\r\n                self.removePillSearch(object);\r\n            }\r\n\r\n            // Remove all pills.\r\n            if(data.area === 'removeallpills'){\r\n                let elements = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"area\") === 'filters');\r\n                });\r\n\r\n                $(elements).each(function () {\r\n                    $(this).removeData(\"selected\");\r\n                    $(this).prop('checked', false);\r\n                    self.removePill($(this).attr(\"id\"));\r\n                });\r\n\r\n                let elementssearch = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"area\") === 'pillsearch');\r\n                });\r\n\r\n                $(elementssearch).each(function () {\r\n                    self.removePillSearch(this);\r\n                });\r\n            }\r\n\r\n            if (data.area === 'sorting') {\r\n\r\n                let flag = true;\r\n                if (parseInt($(object).data(\"selected\")) === 1) {\r\n                    flag = false;\r\n                }\r\n\r\n                let elements = $(\"*\").filter(function () {\r\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sorting');\r\n                });\r\n\r\n                $(elements).each(function () {\r\n                    $(this).data(\"selected\", '0');\r\n                });\r\n\r\n                if (flag) {\r\n                    $(object).data(\"selected\", '1');\r\n                }\r\n            }\r\n\r\n            if (data.area === 'sort-column') {\r\n                $(object).data(\"selected\", '1');\r\n            }\r\n\r\n            if (data.area === 'mainsearch') {\r\n                let param = data.value;\r\n                this.createPillSearch(param, data.value, function(){\r\n                    self.renderBlocks();\r\n                });\r\n            }else{\r\n                this.renderBlocks();\r\n            }\r\n\r\n            // Change title breadcrumbs.\r\n            this.changeTitleBreadcrumbs(object);\r\n        },\r\n\r\n        returnPreset: function () {\r\n\r\n            // Get selected.\r\n            let selected = $(\"*\").filter(function () {\r\n                return ($(this).data(\"plugin\") === 'question' && ($(this).data(\"selected\") === '1' || $(this).data(\"selected\") === 1));\r\n            });\r\n\r\n            let dataselected = {};\r\n            $(selected).each(function (index) {\r\n                dataselected[index] = $(this).data();\r\n            });\r\n\r\n            return dataselected;\r\n        },\r\n\r\n        renderBlocks: function () {\r\n\r\n            let returnpreset = this.returnPreset();\r\n\r\n            // Remove block items.\r\n            $(SELECTORS.blockContent).find('.question-item-wrapper').remove();\r\n            $(SELECTORS.blockContent).find('.pagination').remove();\r\n\r\n            // Render loading icon.\r\n            Templates.render('community_oer/loading', {})\r\n                .done(function (html, js) {\r\n                    Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\r\n                })\r\n                .fail(Notification.exception);\r\n\r\n            Ajax.call([{\r\n                methodname: 'community_oer_get_question_blocks',\r\n                args: {\r\n                    presets: JSON.stringify(returnpreset)\r\n                },\r\n                done: function (response) {\r\n                    let result = JSON.parse(response);\r\n\r\n                    // Check if run in iframe.\r\n                    result.iframe = (parseInt(if_iframe) === 1);\r\n\r\n                    Str.get_strings([\r\n                        {key: 'resultsearch', component: 'community_oer'},\r\n                        {key: 'items', component: 'community_oer'},\r\n                        {key: 'itemshidden', component: 'community_oer'},\r\n                    ]).done(function (strings) {\r\n\r\n                        // Update total questions.\r\n                        let str = '';\r\n                        if(result.if_hidden_items){\r\n                            str = strings[0] + ': ' + result.total_blocks_hidden + ' ' + strings[2];\r\n                        }else{\r\n                            str = strings[0] + ': ' + result.total_blocks + ' ' + strings[1];\r\n                        }\r\n\r\n                        $(SELECTORS.totalItems).html(str);\r\n\r\n                        // Update total menu block.\r\n                        $(SELECTORS.mainTotalElementsActivity).html('(' + result.activity_total_all_blocks + ')');\r\n                        $(SELECTORS.mainTotalElementsQuestion).html('(' + result.question_total_all_blocks + ')');\r\n                        $(SELECTORS.mainTotalElementsSequence).html('(' + result.sequence_total_all_blocks + ')');\r\n                        $(SELECTORS.mainTotalElementsCourse).html('(' + result.course_total_all_blocks + ')');\r\n\r\n                        // Render blocks.\r\n                        Templates.render('community_oer/question/block', result)\r\n                            .done(function (html, js) {\r\n                                Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\r\n\r\n                                if (if_scroll_up) {\r\n                                    const element = document.querySelector('.activity-block-header');\r\n                                    element.scrollIntoView({behavior: \"smooth\", block: \"end\", inline: \"nearest\"});\r\n                                    if_scroll_up = false;\r\n                                }\r\n\r\n                                callback();\r\n                            })\r\n                            .fail(Notification.exception);\r\n                    });\r\n                },\r\n                fail: Notification.exception\r\n            }]);\r\n        },\r\n\r\n        changeTitleBreadcrumbs: function (object) {\r\n            let title = $(object).data('breadcrumbs');\r\n            $(SELECTORS.mainTitle).html(title);\r\n        },\r\n\r\n        createPill: function (id, text) {\r\n\r\n            Str.get_strings([\r\n                {key: 'removeallpills', component: 'community_oer'},\r\n            ]).done(function (strings) {\r\n\r\n                let pillTarget = $(SELECTORS.filterPills);\r\n\r\n                // Add remove all.\r\n                if(!pillTarget.find('button').length) {\r\n                    let pillremoveall = $(`\r\n                    <button type=\"button\" data-plugin=\"question\" data-area=\"removeallpills\" class=\"removeallpills btn btn-secondary  mr-3 py-1 px-3  mb-2\">\r\n                        ${strings[0]}                       \r\n                    </button>`);\r\n\r\n                    pillTarget.append(pillremoveall);\r\n                }\r\n\r\n                let pill = $(`\r\n                <div class=\"checked-option-pill rounded-pill bg-light text-primary border border-primary mr-3 py-1 px-3 mb-2\" data-id=\"${id}\">\r\n                    <span class=\"checked-option-pill-name\">${text}</span>\r\n                    <button type=\"button\" class=\"close ml-3\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\" data-plugin=\"question\" data-area=\"pill\" data-value=\"${id}\">&times;</span>\r\n                    </button>\r\n                </div>`);\r\n\r\n                pillTarget.append(pill);\r\n            });\r\n        },\r\n\r\n        removePill: function (id) {\r\n            $(SELECTORS.filterPills).find(`[data-id=\"${id}\"]`).remove();\r\n\r\n            // Remove button remove all pills.\r\n            let buttons = $(SELECTORS.filterPills).find('button');\r\n            if (buttons.length === 1) {\r\n                buttons.remove();\r\n            }\r\n        },\r\n\r\n        createPillSearch: function (query, text, callback) {\r\n\r\n            Str.get_strings([\r\n                {key: 'removeallpills', component: 'community_oer'},\r\n            ]).done(function (strings) {\r\n\r\n                let pillTarget = $(SELECTORS.filterPills);\r\n\r\n                // Add remove all.\r\n                if(!pillTarget.find('button').length) {\r\n                    let pillremoveall = $(`\r\n                    <button type=\"button\" data-plugin=\"question\" data-area=\"removeallpills\" class=\"removeallpills btn btn-secondary mr-3 py-1 px-3 mb-2\">\r\n                        ${strings[0]}                       \r\n                    </button>`);\r\n\r\n                    pillTarget.append(pillremoveall);\r\n                }\r\n\r\n                let simpleword = false;\r\n                if (query.length > 0 && query[0] === '\"' && query[query.length - 1] === '\"') {\r\n                    simpleword = true;\r\n                    query = query.substring(1, query.length - 1);\r\n                }\r\n\r\n                if (simpleword) {\r\n                    let pill = $(`\r\n                        <div class=\"checked-option-pill search-pill rounded-pill bg-light text-primary border border-primary mr-3 py-1 px-3 mb-2\" data-id=\"${query}\">\r\n                            <span class=\"checked-option-pill-name\">${query}</span>\r\n                            <button type=\"button\" class=\"close ml-3\" aria-label=\"Close\">\r\n                                <span aria-hidden=\"true\" data-plugin=\"question\" data-area=\"pillsearch\" data-value=\"${query}\" data-selected=\"1\">&times;</span>\r\n                            </button>\r\n                        </div>`);\r\n\r\n                    pillTarget.append(pill);\r\n                } else {\r\n                    query.split(' ').forEach(function(value) {\r\n                        if (value.length > 0) {\r\n                            let pill = $(`\r\n                                <div class=\"checked-option-pill search-pill rounded-pill bg-light text-primary border border-primary mr-3 py-1 px-3 mb-2\" data-id=\"${value}\">\r\n                                    <span class=\"checked-option-pill-name\">${value}</span>\r\n                                    <button type=\"button\" class=\"close ml-3\" aria-label=\"Close\">\r\n                                        <span aria-hidden=\"true\" data-plugin=\"question\" data-area=\"pillsearch\" data-value=\"${value}\" data-selected=\"1\">&times;</span>\r\n                                    </button>\r\n                                </div>`);\r\n\r\n                            pillTarget.append(pill);\r\n                        }\r\n                    });\r\n                }\r\n\r\n                callback();\r\n            });\r\n        },\r\n\r\n        removePillSearch: function (object) {\r\n            $(object).parent().parent().remove();\r\n\r\n            // Remove button remove all pills.\r\n            let buttons = $(SELECTORS.filterPills).find('button');\r\n            if (buttons.length === 1) {\r\n                buttons.remove();\r\n            }\r\n        },\r\n\r\n        singlePage: function (data) {\r\n            Templates.render('community_oer/question/block', data)\r\n                .done(function (html, js) {\r\n                    Templates.prependNodeContents('#page-content', html, js);\r\n                })\r\n                .fail(Notification.exception);\r\n        },\r\n\r\n        iframeProperties: function (id) {\r\n            window.addEventListener(\"load\", function(e){\r\n                let height = document.getElementById(\"region-main\").offsetHeight;\r\n                let data = [height, id];\r\n                top.postMessage(data);\r\n                document.getElementById(\"page-question-preview\").style.overflow=\"scroll\";\r\n                new SimpleBar(document.getElementById(\"page-question-preview\"), { autoHide: false });\r\n             });\r\n        }\r\n    };\r\n});\r\n"],"names":["define","$","Y","Str","ModalFactory","ModalEvents","Ajax","Templates","Notification","SELECTORS","current_aside_question","prev_search_question","default_filters_question","if_iframe","if_scroll_up","init","callback","val","call","methodname","args","done","response","fail","exception","mergeInstanceWithPreset","instance_data","preset_data","renderInstance","current_aside","prev_search","self","this","default_filters","data","render","html","js","render_aside","replaceNodeContents","length","each","index","value","param","createPillSearch","defaultRenderBlocks","filters","filter","key","prop","text","parent","find","trim","createPill","attr","elements","type","undefined","url_params","childcategory","click","parseInt","actionOnClick","object","area","removeData","removePill","id","trigger","buttons","remove","removePillSearch","elementssearch","flag","renderBlocks","changeTitleBreadcrumbs","returnPreset","selected","dataselected","returnpreset","presets","JSON","stringify","result","parse","iframe","get_strings","component","strings","str","if_hidden_items","total_blocks_hidden","total_blocks","activity_total_all_blocks","question_total_all_blocks","sequence_total_all_blocks","course_total_all_blocks","document","querySelector","scrollIntoView","behavior","block","inline","title","pillTarget","pillremoveall","append","pill","query","simpleword","substring","split","forEach","singlePage","prependNodeContents","iframeProperties","window","addEventListener","e","getElementById","offsetHeight","top","postMessage","style","overflow","SimpleBar","autoHide"],"mappings":"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"}