define("community_oer/header-popover",["exports","jquery","theme_boost/popover"],(function(_exports,_jquery,_popover){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),Object.defineProperty(_exports,"Popover",{enumerable:!0,get:function(){return _popover.default}}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_popover=_interopRequireDefault(_popover);const SELECTORS_HEADERCONTAINER="nav.navbar .primary-navigation",SELECTORS_HEADERCONTENT='[data-region="header-content-popover"]',SELECTORS_HEADERBUTTON=".oer-popup-btn";let footerIsShown=!1;_exports.init=()=>{const container=document.querySelector(SELECTORS_HEADERCONTAINER),HEADERBUTTON=document.querySelector(SELECTORS_HEADERBUTTON);(0,_jquery.default)(HEADERBUTTON).popover({content:getContent,container:container,html:!0,placement:"bottom",trigger:"click"}),document.addEventListener("click",(e=>{footerIsShown&&!e.target.closest(SELECTORS_HEADERCONTAINER)&&(0,_jquery.default)(HEADERBUTTON).popover("hide")}),!0),document.addEventListener("keydown",(e=>{footerIsShown&&"Escape"===e.key&&((0,_jquery.default)(HEADERBUTTON).popover("hide"),HEADERBUTTON.focus())})),document.addEventListener("focus",(e=>{footerIsShown&&!e.target.closest(SELECTORS_HEADERCONTAINER)&&(0,_jquery.default)(HEADERBUTTON).popover("hide")}),!0),(0,_jquery.default)(HEADERBUTTON).on("shown.bs.popover",(()=>{footerIsShown=!0;let popoverBody=document.querySelector(".popover-body"),listTitleIcons=popoverBody.querySelectorAll(".oer-popup-list-title-icon"),listItemIcons=popoverBody.querySelectorAll(".oer-popup-list-item-icon");listTitleIcons.forEach((el=>{el.style.backgroundImage="url(".concat(el.title,")"),el.removeAttribute("title")})),listItemIcons.forEach((el=>{el.style.backgroundImage="url(".concat(el.title,")"),el.removeAttribute("title")}))})),(0,_jquery.default)(HEADERBUTTON).on("hide.bs.popover",(()=>{footerIsShown=!1}))};const getContent=()=>document.querySelector(SELECTORS_HEADERCONTENT).innerHTML}));

//# sourceMappingURL=header-popover.min.js.map