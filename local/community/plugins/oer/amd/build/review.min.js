/**
 * Javascript main event handler.
 *
 * @module     community_oer/init
 * @package    community_oer
 * @copyright  2019 Devlionco <info@devlion.co>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      3.6
 */
define("community_oer/review",["jquery","community_oer/review-events","community_oer/review-modal"],(function($,events,modal){var root=document.querySelector("body");return{init:function(popupdata){modal.insertWrapper().done((function(){popupdata.showrequest&&events.askForReview(popupdata),popupdata.showrequestv2&&events.askForReviewV2(popupdata),$(document).on("click",'[data-dismiss="modal"]',(function(){$("#modalReview").modal("hide")})),$(document).on("click","#activityremindtext a",(function(){window.location.href=$(this).attr("href")})),root.addEventListener("click",(function(e){var target=e.target;if("menuitem"===target.role){let key=$(target).parent().data("key");void 0!==key&&key.includes("activityRemind_")&&(target.dataset.cmid=key.replace("activityRemind_",""),events.activityRemind(target))}for(;root.contains(target);){switch(target.dataset.handler){case"sendShortReview":case"sendReview":events.sendReview(target);break;case"confirmRejectReview":events.confirmRejectReview(target);break;case"reportBug":events.reportBug(target);break;case"sendReviewLater":events.sendReviewLater(target);break;case"openSendReview":events.openSendReview(target);break;case"activityRemind":events.activityRemind(target);break;case"sendRemind":events.sendRemind(target);break;case"saveRemind":events.saveRemind(target);break;case"deleteReview":events.deleteReview(target);break;case"rejectReview":events.rejectReview(target);break;case"showReview":events.showReview(target);break;case"sendComment":events.sendComment(target);break;case"updateComment":events.updateComment(target);break;case"editComment":events.editComment(target);break;case"deleteComment":events.deleteComment(target);break;case"cancelComment":events.cancelComment(target);break;case"askForReviewOnCourse":events.askForReviewOnCourse(target)}target=target.parentNode}}))}))},add_icon:function(icon,callback){$(".page-header-headings").find("h1").append(" "+icon).ready((function(){callback()}))},add_icon_to_page:function(icon){this.add_icon(icon,(function(){}))},add_and_open_icon_on_page:function(icon){this.add_icon(icon,(function(){setTimeout((function(){$(".page-header-headings").parent().find(".comment-icon")[0].click()}),1e3)}))}}}));

//# sourceMappingURL=review.min.js.map