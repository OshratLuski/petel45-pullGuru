{"version":3,"file":"popup-question.min.js","sources":["../src/popup-question.js"],"sourcesContent":["define([\n    'jquery',\n    'core/yui',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'core/templates',\n    'core/notification',\n\n], function ($, Y, Str, ModalFactory, ModalEvents, Ajax, Templates, Notification) {\n    `use strict`;\n\n    let SELECTORS = {\n        mainAside: '.main-aside',\n        mainDashboard: '.main-dashboard',\n        mainTitle: '.main-title',\n        filterPills: '.checked-option-pills',\n        filterButtonArea: '.activity-filters',\n        totalItems: '.total-activities-block',\n        blockContent: '.activity-blocks-content',\n        mainTotalElementsActivity: '.main-total-elements-activity',\n        mainTotalElementsQuestion: '.main-total-elements-question',\n        mainTotalElementsSequence: '.main-total-elements-sequence',\n    };\n\n    let current_aside_question = {};\n    let prev_search_question = {};\n\n    return {\n        init: function (callback) {\n\n            // Get instance question.\n            Ajax.call([{\n                methodname: 'community_oer_get_question_instance',\n                args: {},\n                done: function (response) {\n                    callback(response);\n                },\n                fail: Notification.exception\n            }]);\n        },\n\n        mergeInstanceWithPreset: function (instance_data, preset_data, callback) {\n            callback(instance_data);\n        },\n\n        renderInstance: function (instance_data, current_aside, prev_search, preset_data, callback) {\n            let self = this;\n\n            current_aside_question = current_aside;\n            prev_search_question = prev_search;\n\n            this.mergeInstanceWithPreset(instance_data, preset_data, function (data) {\n\n                // Render aside.\n                Templates.render('community_oer/question/popup/aside', data)\n                    .done(function (html, js) {\n\n                        if(current_aside_question.render_aside) {\n                            Templates.replaceNodeContents(SELECTORS.mainAside, html, js);\n                        }\n\n                        // Render dashboard.\n                        Templates.render('community_oer/question/popup/dashboard', data)\n                            .done(function (html, js) {\n                                Templates.replaceNodeContents(SELECTORS.mainDashboard, html, js);\n\n                                if(prev_search_question.length > 0) {\n                                    $.each(prev_search_question, function (index, value) {\n                                        let param = value;\n                                        self.createPillSearch(param, value, function () {\n                                            self.defaultRenderBlocks();\n                                            callback();\n                                        });\n                                    });\n                                }else{\n                                    self.defaultRenderBlocks();\n                                    callback();\n                                }\n                            })\n                            .fail(Notification.exception);\n                    })\n                    .fail(Notification.exception);\n            });\n        },\n\n        defaultRenderBlocks: function () {\n            // Default render blocks.\n            let elements = $(\"*\").filter(function () {\n                return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sidemenu');\n            });\n\n            $(elements).each(function () {\n\n                // Click on category, course, section.\n                if ($(this).data(\"action\") === current_aside_question.type &&\n                    $(this).data(\"value\") === current_aside_question.value &&\n                    $(this).data(\"secondaction\") === undefined &&\n                    current_aside_question.url_params.childcategory === undefined\n                ) {\n\n                    $(this).click();\n                }\n\n                // Click on section childcategory.\n                if ($(this).data(\"action\") === current_aside_question.type &&\n                    $(this).data(\"value\") === current_aside_question.value &&\n                    current_aside_question.url_params.childcategory !== undefined &&\n                    $(this).data(\"childcategory\") === parseInt(current_aside_question.url_params.childcategory)\n                ) {\n                    $(this).click();\n                }\n            });\n        },\n\n        actionOnClick: function (object) {\n\n            // Button view selected questions.\n            if($('.btn-view-selected-questions').hasClass('active')){\n                $('.btn-view-selected-questions').removeClass('active');\n                $('.btn-view-selected-questions').removeClass('btn-success');\n                $('.btn-view-selected-questions').addClass('btn-outline-primary');\n            }\n\n            let data = $(object).data();\n            let self = this;\n\n            if (data.area === 'sidemenu') {\n                let elements = $(\"*\").filter(function () {\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sidemenu');\n                });\n\n                $(elements).each(function () {\n                    $(this).removeData(\"selected\");\n                });\n\n                $(object).data(\"selected\", \"1\");\n            }\n\n            if (data.area === 'filters') {\n                if ($(object).data(\"selected\") !== undefined) {\n                    $(object).removeData(\"selected\");\n                    this.removePill($(object).attr(\"id\"));\n                } else {\n                    $(object).data(\"selected\", \"1\");\n                    let text = $(object).parent().find('label').html().trim();\n                    this.createPill($(object).attr(\"id\"), text);\n                }\n            }\n\n            // Paging.\n            if (data.area === 'paging') {\n                let elements = $(\"*\").filter(function () {\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'paging');\n                });\n\n                $(elements).each(function () {\n                    $(this).data(\"selected\", 0);\n                });\n\n                $(object).data(\"selected\", \"1\");\n            }\n\n            if (data.area !== 'paging') {\n                let elements = $(\"*\").filter(function () {\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'paging');\n                });\n\n                $(elements).each(function () {\n                    $(this).data(\"selected\", 0);\n                });\n            }\n\n            // Hidden questions.\n            if (data.area === 'hidden') {\n                if ($(object).data(\"selected\") !== undefined) {\n                    $(object).removeData(\"selected\");\n                } else {\n                    $(object).data(\"selected\", \"1\");\n                }\n            }\n\n            // Remove pill.\n            if (data.area === 'pill') {\n                let id = data.value;\n                $(SELECTORS.filterButtonArea).find(\"#\" + id).trigger('click');\n\n                // Remove button remove all pills.\n                let buttons = $(SELECTORS.filterPills).find('button');\n                if (buttons.length === 1) {\n                    buttons.remove();\n                }\n            }\n\n            // Remove pill search.\n            if (data.area === 'pillsearch') {\n                self.removePillSearch(object);\n            }\n\n            // Remove all pills.\n            if(data.area === 'removeallpills'){\n                let elements = $(\"*\").filter(function () {\n                    return ($(this).data(\"area\") === 'filters');\n                });\n\n                $(elements).each(function () {\n                    $(this).removeData(\"selected\");\n                    $(this).prop('checked', false);\n                    self.removePill($(this).attr(\"id\"));\n                });\n\n                let elementssearch = $(\"*\").filter(function () {\n                    return ($(this).data(\"area\") === 'pillsearch');\n                });\n\n                $(elementssearch).each(function () {\n                    self.removePillSearch(this);\n                });\n            }\n\n            if (data.area === 'sorting') {\n\n                let flag = true;\n                if (parseInt($(object).data(\"selected\")) === 1) {\n                    flag = false;\n                }\n\n                let elements = $(\"*\").filter(function () {\n                    return ($(this).data(\"plugin\") === 'question' && $(this).data(\"area\") === 'sorting');\n                });\n\n                $(elements).each(function () {\n                    $(this).data(\"selected\", '0');\n                });\n                \n                if (flag) {\n                    $(object).data(\"selected\", '1');\n                }\n            }\n\n            if (data.area === 'sort-column') {\n                $(object).data(\"selected\", '1');\n            }\n\n            if (data.area === 'mainsearch') {\n                let param = data.value;\n                this.createPillSearch(param, data.value, function(){\n                    self.renderBlocks();\n                });\n            }else{\n                this.renderBlocks();\n            }\n\n            // Change title breadcrumbs.\n            this.changeTitleBreadcrumbs(object);\n        },\n\n        returnPreset: function () {\n\n            // Get selected.\n            let selected = $(\"*\").filter(function () {\n                return ($(this).data(\"plugin\") === 'question' && ($(this).data(\"selected\") === '1' || $(this).data(\"selected\") === 1));\n            });\n\n            let dataselected = {};\n            $(selected).each(function (index) {\n                dataselected[index] = $(this).data();\n            });\n\n            return dataselected;\n        },\n\n        renderBlocks: function () {\n\n            let returnpreset = this.returnPreset();\n\n            // Remove block items.\n            $(SELECTORS.blockContent).find('.question-item-wrapper').remove();\n            $(SELECTORS.blockContent).find('.pagination').remove();\n\n            // Render loading icon.\n            Templates.render('community_oer/loading', {})\n                .done(function (html, js) {\n                    Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\n                })\n                .fail(Notification.exception);\n\n            Ajax.call([{\n                methodname: 'community_oer_get_question_blocks',\n                args: {\n                    presets: JSON.stringify(returnpreset)\n                },\n                done: function (response) {\n                    let result = JSON.parse(response);\n\n                    Str.get_strings([\n                        {key: 'resultsearch', component: 'community_oer'},\n                        {key: 'items', component: 'community_oer'},\n                        {key: 'itemshidden', component: 'community_oer'},\n                    ]).done(function (strings) {\n\n                        // Update total questions.\n                        let str = '';\n                        if(result.if_hidden_items){\n                            str = strings[0] + ': ' + result.total_blocks_hidden + ' ' + strings[2];\n                        }else{\n                            str = strings[0] + ': ' + result.total_blocks + ' ' + strings[1];\n                        }\n\n                        $(SELECTORS.totalItems).html(str);\n\n                        // Update total menu block.\n                        $(SELECTORS.mainTotalElementsActivity).html('(' + result.activity_total_all_blocks + ')');\n                        $(SELECTORS.mainTotalElementsQuestion).html('(' + result.question_total_all_blocks + ')');\n                        $(SELECTORS.mainTotalElementsSequence).html('(' + result.sequence_total_all_blocks + ')');\n\n                        // Render blocks.\n                        Templates.render('community_oer/question/popup/block', result)\n                            .done(function (html, js) {\n                                Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\n                                callback();\n                            })\n                            .fail(Notification.exception);\n                    });\n                },\n                fail: Notification.exception\n            }]);\n        },\n\n        renderSelectedBlocks: function (qids) {\n\n            let returnpreset = this.returnPreset();\n\n            // Remove block items.\n            $(SELECTORS.blockContent).find('.question-item-wrapper').remove();\n            $(SELECTORS.blockContent).find('.pagination').remove();\n\n            // Render loading icon.\n            Templates.render('community_oer/loading', {})\n                .done(function (html, js) {\n                    Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\n                })\n                .fail(Notification.exception);\n\n            Ajax.call([{\n                methodname: 'community_oer_get_selected_question_blocks',\n                args: {\n                    qids: JSON.stringify(qids)\n                },\n                done: function (response) {\n                    let result = JSON.parse(response);\n\n                    Str.get_strings([\n                        {key: 'resultselected', component: 'community_oer'},\n                        {key: 'qitems', component: 'community_oer'},\n                        {key: 'itemshidden', component: 'community_oer'},\n                    ]).done(function (strings) {\n\n                        // Update total questions.\n                        let str = strings[0] + ': ' + result.total_blocks + ' ' + strings[1];\n\n                        $(SELECTORS.totalItems).html(str);\n\n                        // Update total menu block.\n                        // $(SELECTORS.mainTotalElementsActivity).html('(' + result.activity_total_all_blocks + ')');\n                        // $(SELECTORS.mainTotalElementsQuestion).html('(' + result.question_total_all_blocks + ')');\n                        // $(SELECTORS.mainTotalElementsSequence).html('(' + result.sequence_total_all_blocks + ')');\n\n                        // Render blocks.\n                        Templates.render('community_oer/question/popup/block', result)\n                            .done(function (html, js) {\n                                Templates.replaceNodeContents(SELECTORS.blockContent, html, js);\n                                callback();\n                            })\n                            .fail(Notification.exception);\n                    });\n                },\n                fail: Notification.exception\n            }]);\n        },\n\n        changeTitleBreadcrumbs: function (object) {\n            let title = $(object).data('breadcrumbs');\n            $(SELECTORS.mainTitle).html(title);\n        },\n\n        createPill: function (id, text) {\n\n            Str.get_strings([\n                {key: 'removeallpills', component: 'community_oer'},\n            ]).done(function (strings) {\n\n                let pillTarget = $(SELECTORS.filterPills);\n\n                // Add remove all.\n                if(!pillTarget.find('button').length) {\n                    let pillremoveall = $(`\n                    <button type=\"button\" data-plugin=\"question\" data-area=\"removeallpills\" class=\"removeallpills btn btn-secondary  mr-3 py-1 px-3  mb-2\">\n                        ${strings[0]}                       \n                    </button>`);\n\n                    pillTarget.append(pillremoveall);\n                }\n\n                let pill = $(`\n                <div class=\"checked-option-pill rounded-pill bg-light text-primary border border-primary mr-3 py-1 px-3 mb-2\" data-id=\"${id}\">\n                    <span class=\"checked-option-pill-name\">${text}</span>\n                    <button type=\"button\" class=\"close ml-3\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\" data-plugin=\"question\" data-area=\"pill\" data-value=\"${id}\">&times;</span>\n                    </button>\n                </div>`);\n\n                pillTarget.append(pill);\n            });\n        },\n\n        removePill: function (id) {\n            $(SELECTORS.filterPills).find(`[data-id=\"${id}\"]`).remove();\n\n            // Remove button remove all pills.\n            let buttons = $(SELECTORS.filterPills).find('button');\n            if (buttons.length === 1) {\n                buttons.remove();\n            }\n        },\n\n        createPillSearch: function (query, text, callback) {\n\n            Str.get_strings([\n                {key: 'removeallpills', component: 'community_oer'},\n            ]).done(function (strings) {\n\n                let pillTarget = $(SELECTORS.filterPills);\n\n                // Add remove all.\n                if(!pillTarget.find('button').length) {\n                    let pillremoveall = $(`\n                    <button type=\"button\" data-plugin=\"question\" data-area=\"removeallpills\" class=\"removeallpills btn btn-secondary mr-3 py-1 px-3 mb-2\">\n                        ${strings[0]}                       \n                    </button>`);\n\n                    pillTarget.append(pillremoveall);\n                }\n\n                let pill = $(`\n                <div class=\"checked-option-pill search-pill rounded-pill bg-light text-primary border border-primary mr-3 py-1 px-3 mb-2\" data-id=\"${query}\">\n                    <span class=\"checked-option-pill-name\">${text}</span>\n                    <button type=\"button\" class=\"close ml-3\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\" data-plugin=\"question\" data-area=\"pillsearch\" data-value=\"${query}\" data-selected=\"1\">&times;</span>\n                    </button>\n                </div>`);\n\n                pillTarget.append(pill);\n\n                callback();\n            });\n        },\n\n        removePillSearch: function (object) {\n            $(object).parent().parent().remove();\n\n            // Remove button remove all pills.\n            let buttons = $(SELECTORS.filterPills).find('button');\n            if (buttons.length === 1) {\n                buttons.remove();\n            }\n        },\n\n        singlePage: function (data) {\n            Templates.render('community_oer/question/popup/block', data)\n                .done(function (html, js) {\n                    Templates.prependNodeContents('#page-content', html, js);\n                })\n                .fail(Notification.exception);\n        },\n\n        iframeProperties: function (id) {\n            window.addEventListener(\"load\", function(e){\n                let height = document.getElementById(\"region-main\").offsetHeight;\n                let data = [height, id];\n                top.postMessage(data);\n                document.getElementById(\"page-question-preview\").style.overflow=\"scroll\";\n                new SimpleBar(document.getElementById(\"page-question-preview\"), { autoHide: false });              \n             });\n        }\n    };\n});\n"],"names":["define","$","Y","Str","ModalFactory","ModalEvents","Ajax","Templates","Notification","SELECTORS","current_aside_question","prev_search_question","init","callback","call","methodname","args","done","response","fail","exception","mergeInstanceWithPreset","instance_data","preset_data","renderInstance","current_aside","prev_search","self","this","data","render","html","js","render_aside","replaceNodeContents","length","each","index","value","param","createPillSearch","defaultRenderBlocks","elements","filter","type","undefined","url_params","childcategory","click","parseInt","actionOnClick","object","hasClass","removeClass","addClass","area","removeData","removePill","attr","text","parent","find","trim","createPill","id","trigger","buttons","remove","removePillSearch","prop","elementssearch","flag","renderBlocks","changeTitleBreadcrumbs","returnPreset","selected","dataselected","returnpreset","presets","JSON","stringify","result","parse","get_strings","key","component","strings","str","if_hidden_items","total_blocks_hidden","total_blocks","activity_total_all_blocks","question_total_all_blocks","sequence_total_all_blocks","renderSelectedBlocks","qids","title","pillTarget","pillremoveall","append","pill","query","singlePage","prependNodeContents","iframeProperties","window","addEventListener","e","document","getElementById","offsetHeight","top","postMessage","style","overflow","SimpleBar","autoHide"],"mappings":"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"}