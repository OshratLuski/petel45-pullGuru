{"version":3,"file":"modal.min.js","sources":["../src/modal.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/*\n * The module resizes the iframe containing the embedded question to be\n * just the right size for the question.\n *\n * @module    filter_hotwords\n * @package   filter_hotwords\n * @copyright 2024 Devlion.co\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport * as ModalFactory from 'core/modal_factory';\n\nexport const init = () => {\n    document.addEventListener(\"click\", function (e) {\n        let _target = e.target;\n        if (_target.getAttribute(\"data-toggle\") == \"hotword\" && !_target.closest(\"div.editor_atto\")) {\n            ModalFactory.create({\n                type: ModalFactory.types.ALERT,\n                title: _target.innerHTML,\n                body: hotwordDecodeHtml(_target.getAttribute(\"data-text\")),\n            }).then(modal => {\n                modal.show();\n            });\n        }\n    });\n};\n\nfunction hotwordDecodeHtml(html) {\n    let txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n}"],"names":["hotwordDecodeHtml","html","txt","document","createElement","innerHTML","value","addEventListener","e","_target","target","getAttribute","closest","ModalFactory","create","type","types","ALERT","title","body","then","modal","show"],"mappings":";;;;;;;;;6BAyCSA,kBAAkBC,UACnBC,IAAMC,SAASC,cAAc,mBACjCF,IAAIG,UAAYJ,KACTC,IAAII,oBAlBK,KAChBH,SAASI,iBAAiB,SAAS,SAAUC,OACrCC,QAAUD,EAAEE,OAC2B,WAAvCD,QAAQE,aAAa,gBAAgCF,QAAQG,QAAQ,oBACrEC,aAAaC,OAAO,CAChBC,KAAMF,aAAaG,MAAMC,MACzBC,MAAOT,QAAQJ,UACfc,KAAMnB,kBAAkBS,QAAQE,aAAa,gBAC9CS,MAAKC,QACJA,MAAMC"}