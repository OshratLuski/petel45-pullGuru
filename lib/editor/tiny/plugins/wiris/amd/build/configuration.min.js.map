{"version":3,"file":"configuration.min.js","sources":["../src/configuration.js"],"sourcesContent":["import {\n    imageButtonNameMathType,\n    imageButtonNameChemType\n} from './common';\nimport {\n    addMenubarItem,\n} from 'editor_tiny/utils';\n\n// Name of the default equation editor in Tiny\nconst TINY_EQUATION = 'tiny_equation';\n\nconst configureMenu = (menu) => {\n    //#14351 - Unblocked tiny_equation to the extent that this plugin (tuny_wiris) is displayed.\n    addMenubarItem(menu, 'insert', imageButtonNameMathType);\n    addMenubarItem(menu, 'insert', imageButtonNameChemType);\n\n    return menu;\n};\n\nconst configureToolbar = (toolbar) => {\n    // In such case, add MathType and ChemType directly, in section `content`\n    const allButtons = toolbar.flatMap((section) => section.items);\n    const hasMathType = allButtons.includes(imageButtonNameMathType);\n    const hasChemType = allButtons.includes(imageButtonNameChemType);\n    if (!hasMathType || !hasChemType) {\n        toolbar = toolbar.map((section) => {\n            if (section.name === 'content') {\n                if (!hasMathType) {\n                    section.items.unshift(imageButtonNameChemType);\n                }\n                if (!hasChemType) {\n                    section.items.unshift(imageButtonNameMathType);\n                }\n            }\n            return section;\n        });\n    }\n\n    return toolbar;\n};\n\nexport const configure = (instanceConfig) => {\n    // Update the instance configuration to add the Media menu option to the menus and toolbars and upload_handler.\n    return {\n        toolbar: configureToolbar(instanceConfig.toolbar),\n        menu: configureMenu(instanceConfig.menu),\n    };\n};\n"],"names":["configureToolbar","toolbar","allButtons","flatMap","section","items","hasMathType","includes","imageButtonNameMathType","hasChemType","imageButtonNameChemType","map","name","unshift","instanceConfig","menu"],"mappings":"wMAmBMA,iBAAoBC,gBAEhBC,WAAaD,QAAQE,SAASC,SAAYA,QAAQC,QAClDC,YAAcJ,WAAWK,SAASC,iCAClCC,YAAcP,WAAWK,SAASG,wCACnCJ,aAAgBG,cACjBR,QAAUA,QAAQU,KAAKP,UACE,YAAjBA,QAAQQ,OACHN,aACDF,QAAQC,MAAMQ,QAAQH,iCAErBD,aACDL,QAAQC,MAAMQ,QAAQL,kCAGvBJ,YAIRH,4BAGea,uBAEf,CACHb,QAASD,iBAAiBc,eAAeb,SACzCc,MAlCeA,KAkCKD,eAAeC,+BAhCxBA,KAAM,SAAUP,2DAChBO,KAAM,SAAUL,iCAExBK,OALYA,IAAAA"}