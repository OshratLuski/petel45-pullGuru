{"version":3,"file":"colorstorage.min.js","sources":["../src/colorstorage.js"],"sourcesContent":["import { getPluginOptionName } from 'editor_tiny/options';\nimport { pluginName } from './common';\n\nconst forecolorMap = getPluginOptionName(pluginName, 'textcolors');\nconst backcolorMap = getPluginOptionName(pluginName, 'backgroundcolors');\n\nlet originalBackgroundColors = null;\nlet originalTextColors = null;\nlet isInitialized = false;\n\nexport const initializeColorStorage = (editor) => {\n    if (!isInitialized) {\n\n        let backColors = editor.options.get(backcolorMap);\n        let textColors = editor.options.get(forecolorMap);\n\n        if (!backColors || !textColors) {\n            setTimeout(() => initializeColorStorage(editor), 100);\n            return;\n        }\n\n        originalBackgroundColors = JSON.parse(JSON.stringify(backColors));\n        originalTextColors = JSON.parse(JSON.stringify(textColors));\n\n        isInitialized = true;\n    } else {\n        console.warn(\"⚠️ Color storage already initialized – skipping.\");\n    }\n};\n\nexport const getOriginalBackgroundColors = () => JSON.parse(JSON.stringify(originalBackgroundColors));\nexport const getOriginalTextColors = () => JSON.parse(JSON.stringify(originalTextColors));\n"],"names":["forecolorMap","pluginName","backcolorMap","originalBackgroundColors","originalTextColors","isInitialized","initializeColorStorage","editor","console","warn","backColors","options","get","textColors","setTimeout","JSON","parse","stringify"],"mappings":"6SAGMA,cAAe,gCAAoBC,mBAAY,cAC/CC,cAAe,gCAAoBD,mBAAY,wBAEjDE,yBAA2B,KAC3BC,mBAAqB,KACrBC,eAAgB,QAEPC,uBAA0BC,YAC9BF,cAeDG,QAAQC,KAAK,wDAfG,KAEZC,WAAaH,OAAOI,QAAQC,IAAIV,cAChCW,WAAaN,OAAOI,QAAQC,IAAIZ,kBAE/BU,aAAeG,uBAChBC,YAAW,IAAMR,uBAAuBC,SAAS,KAIrDJ,yBAA2BY,KAAKC,MAAMD,KAAKE,UAAUP,aACrDN,mBAAqBW,KAAKC,MAAMD,KAAKE,UAAUJ,aAE/CR,eAAgB,gGAMmB,IAAMU,KAAKC,MAAMD,KAAKE,UAAUd,0DACtC,IAAMY,KAAKC,MAAMD,KAAKE,UAAUb"}