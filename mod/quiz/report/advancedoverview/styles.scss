/**
* Styles for quiz_advancedoverview
*/
.sticky-stripe {
	display: flex;
	height: 3rem;
	width: 100%;
	box-shadow: 0 3px 6px 0 rgba(0, 0, 0, 0.2);
	z-index: 10;
	position: fixed;
	top: 3.875rem;
	left: 0;

	i {
		font-size: 2rem;
	}

	.link-btn-text {
		font-size: 1.5rem;
	}
}

.advancedoverview_report-toggle {
	input {
		height: 0;
		width: 0;
		visibility: hidden;
	}

	label {
		cursor: pointer;
		box-sizing: border-box;
		text-indent: -9999px;
		width: 2.125rem;
		height: 1.125rem;
		background: #b2b2b2;
		display: block;
		border-radius: 1rem;
		position: relative;
		outline: .0625rem solid #b2b2b2;

		&:active:after {
			width: 2.125rem;
		}

		&:after {
			content: "";
			position: absolute;
			top: 0.125rem;
			left: 0.125rem;
			right: unset;
			width: .875rem;
			height: 0.875rem;
			background: #fff;
			border-radius: 100%;
		}
	}

	input:checked+label {
		background: #eee;
	}

	input:checked+label:after {
		right: 0.0625rem;
		left: unset;
	}

	.link-btn-text {
		font-size: 1rem;
	}
}

#page-mod-quiz-report .block_advancedoverview_report {
	max-width: 100% !important;
	h2 {
		font-size: 1.5rem;
        font-weight: 700;
	}
}

#page-mod-quiz-report {
	#page.drawers {
		padding-left: 0.5rem;
		padding-right: 0.5rem;
		.main-inner {
			padding: 0;
		}
	}
	#raspberryLoadingIcon {
		display: none;
		position: fixed;
		left: 0;
		top: 40vh;
		width: 100%;
		z-index: 100;
	}

	&.petel-loading {
		width: 100vw;
		height: 100vh;
		overflow: hidden;
		&::after {
			content: '';
			width: 100%;
			height: 100%;
			display: block;
			background-color: rgba($color: #000000, $alpha: .25);
			position: fixed;
			top: 0;
			left: 0;
			z-index: 10;
		}
		#raspberryLoadingIcon {
			display: block;
			z-index: 100;
		}
	}
	#competenciestable {
		padding-bottom: 3.3125rem;
		.competencies-table-subtitle {
			font-size: 1.125rem;
			font-weight: bold;
		}
		.competencies-table-text {
			font-size: 1rem;
			font-weight: normal;
			line-height: 2.5rem;
			vertical-align: middle;
		}
		.skillsbar-wrapper {
			background-color: #fff;
			border-radius: .5rem;
			border: .0625rem soild #000;
			flex-grow: 1;
		}
		.skillsbar {
			height: 2.5rem;
			border-radius: .5rem 0 0 .5rem;
		}
		.rate-text {
			font-weight: 700;
			font-size: 1rem;
			padding-right: 1.125rem;
			min-width: 2.5rem;
			width: 2.5rem;
		}
	}
}

.block_advancedoverview_report {
	h2[data-toggle="collapse"] {
		padding-left: 1.75rem;
		position: relative;

		&::after {
			position: absolute;
			top: .125rem;
			left: 0;
			content: '\f107';
			font-size: 1.25rem;
			font-family: 'Font Awesome 6 Sharp';
			font-style: normal;
			font-weight: 900;
			font-display: block;
			transition: all .25s ease;
		}

		&[aria-expanded="true"]::after {
			transform: scaleY(-1);
			transition: all .25s ease;
		}
	}

	.dropdown-menu.show {
		display: flex;
		flex-direction: column;
		width: fit-content;
	}

	.top-block {
		padding-bottom: 2rem;
	}

	.advancedoverview_report-title {
		font-size: 2.5rem;
		font-weight: bold;
	}

	.card {
		box-shadow: 0.0625rem 0.125rem 0.25rem 0 rgba(12, 56, 16, 0.1);
		box-shadow: 0px 4px 8px 4px rgba(43, 43, 43, 0.16);
		min-height: 11.5rem;
		border-radius: 0.5rem;
		width: 32.35%;

		.card-title {
			font-size: 1.375rem;
			font-weight: 500;
			line-height: normal;
			margin-bottom: .625rem;
		}

		.card-text {
			font-size: 1rem;
			font-weight: 400;
			line-height: normal;
			span {
				font-weight: 700;
				font-size: 1rem;
				min-width: 1.75rem;
			}
		}
	}

	.chart-tooltip {
		padding: 0.5rem;
		box-shadow: 0 0.1875rem 0.375rem 0 rgba(43, 43, 43, 0.25);
		border: solid 0.0625rem #000;
		border-radius: 0.25rem;
		display: none;
		position: absolute;
		background-color: #fff;
		min-width: 10rem;
		max-height: 20.5rem;
		z-index: 10000;

		&::after {
			content: "";
			display: block;
			position: absolute;
			background-color: #fff;
			width: 0.5rem;
			height: 0.5rem;
			border: 0.0625rem solid #000;
			border-top-color: transparent !important;
			border-left-color: transparent !important;
			transform: rotate(135deg);
			left: -0.25rem;
			top: calc(50% - 0.25rem);
		}

		.chart-tooltip-title {
			margin: 0 auto;
			font-size: 1.5rem;
			font-weight: normal;
			white-space: nowrap;
		}

		.tooltip-link {
			font-size: 1.125rem;
			text-decoration: underline;
			white-space: nowrap;

			&:hover {
				color: #000 !important;
			}
		}

		.inner {
			overflow: auto;
			max-height: 17.25rem;
		}

		.chart-tooltip-body {
			&.hascolumns {
				column-count: 2;
				column-rule: 0.0625rem solid #000;
			}
		}

		.close-tooltip-btn {
			width: 1.5rem;
			height: 1.5rem;
			display: flex;
			align-items: center;
			justify-content: center;
			background-color: #fff;
			border: none;
			box-shadow: none;

			i {
				font-size: 1rem;
			}
		}
	}

	#charts_average {
		padding-left: 2.5rem;
		padding-right: 3.5rem;
		.averagescore-title {
			line-height: 1;
			display: flex;
			align-items: center;
			justify-content: center;
			width: 7.5rem;
			height: 7.5rem;
			flex-shrink: 0;
			border-radius: 100%;
			background-color: #003F5B;
			font-size: 2rem;
			font-style: normal;
			font-weight: 700;
			margin-left: 2rem;
		}

		.averagescore-info-wrapper {
			span {
				font-weight: 1.5rem;
			}
		}
	}

	#charts_state {
		padding-left: 2.5rem;
		padding-right: 2.5rem;
		.donut-сhart-legend-title {
			font-size: 1rem;
			font-style: normal;
			font-weight: 400;
			margin-bottom: 1rem;
			margin-top: -0.375rem;
		}

		.donut-сhart-legend-row {
			margin-bottom: .75rem;
			display: flex;
			align-items: center;

			&:last-of-type {
				margin-bottom: 0;
			}

			.square {
				width: 0.75rem;
				height: 0.75rem;
				margin-right: 0.38rem;
			}
		}
		.card-text {
			font-size: 1rem;
			font-style: normal;
			font-weight: 400;
			line-height: 0.75rem;
		}
		.send-message-link {
			font-size: 1.125rem;
		}
		.donut-сhart {
			display: flex;
			align-items: center;
			justify-content: center;
			margin-left: 2rem;
		}
		.donut-сhart path {
			&:hover {
				filter: drop-shadow(0 0.1875rem 0.125rem rgb(0 0 0 / 0.5));
			}
		}
	}
	#charts_grade {
		padding-left: 2.5rem;
		padding-right: 2.5rem;
		.card-title {
			margin-bottom: .375rem;
		}
	}


	h3 {
		font-size: 2rem;
		font-weight: bold;
	}

	.advancedoverview_report-btn {
		transition: all 0.25s ease;
		display: flex;
		align-items: center;
		line-height: 1;
		height: 2.5rem;
		min-width: 11rem;

		.title {
			font-size: 1.125rem;
			white-space: nowrap;
		}

		.icon {
			font-size: 1.5rem;
			width: 1.5rem;
			height: 1.5rem;
			margin-right: 0.625rem;
		}
	}

	.advancedoverview_report-dropdown-btn {
		transition: all 0.25s ease;
		display: flex;
		align-items: center;
		justify-content: space-between;
		line-height: 1;
		height: 2.5rem;
		padding: 0.375rem 0.75rem;
		align-items: center;
		background-color: #fff;
		border-radius: 0.25rem;
		box-shadow: 0rem .375rem .25rem 0rem rgba(108, 117, 125, 0.15);

		&::after {
			font-size: 1rem;
			content: '\f0d7';
			margin-left: .5rem;
		}

		&[aria-expanded="true"]::after {
			transform: scaleY(-1);
			transition: all 0.25s ease;
		}

		&:not(.dropdown-toggle) {
			&::after {
				content: '';
				display: none;
			}
		}

		span {
			font-size: 1.125rem;
			font-style: normal;
			font-weight: 400;
			line-height: normal;
		}

		&:hover,
		&:focus {
			box-shadow: 0rem .375rem .75rem .25rem rgba(108, 117, 125, 0.20);
		}

		&:active,
		&.active {
			box-shadow: none;
		}
	}

	.advancedoverview_report-dropdown-btn-lg,
	.advancedoverview_report-dropdown-btn-lg:active {
		background-color: #fff;

		.openquestions-count {
			width: 2rem;
			height: 2rem;
			display: flex;
			align-items: center;
			justify-content: center;
			border-radius: 100%;
			border: solid 0.125rem transparent;
			font-size: 1.5rem;
		}

		.text {
			font-size: 1.125rem;
		}

		&:after {
			content: '\f0d7';
			font-size: 1.25rem;
		}

		&[aria-expanded="true"]:after {
			transform: scaleY(-1);
		}
	}

	.openquestions-menu {
		border-width: 0.0625rem;
		margin-top: 0;
		padding: 0;

		.dropdown-item {
			padding-left: 6rem;
			padding-right: 1.5rem;
			padding-top: 0.375rem;
			padding-bottom: 0.375rem;
			background-color: #fff;
			display: flex;
			align-items: center;

			&:nth-child(odd) {
				background-color: #f2f2f2;
			}

			&:hover {
				text-decoration: underline;
			}
		}

		.col1 {
			width: 8.22%;
			padding-right: 1rem;
		}

		.col2 {}

		.col3 {
			width: 12.5%;
		}
	}

	.course-group-wrapper {
		&>span {
			font-size: 1.125rem;
			font-weight: 500;
		}

		.dropdown-menu {
			.dropdown-ite {
				text-decoration: underline;
			}
		}
	}

	.advancedoverview_report-search-input-wrapper {
		i {
			font-size: 1.5rem;
			right: 0.5rem;
		}
	}

	.advancedoverview_report-search-input {
		line-height: 1.33;
		font-size: 1.125rem;
		min-width: 16rem;
		padding-right: 2rem;
	}

	.nav.nav-tabs {
		border-bottom: none;
		border-radius: 1.25rem;

		.nav-item {
			max-width: 15rem;
			min-height: 2.5rem;
			margin: 0;
			background-color: transparent;
			border-radius: 1.25rem;

			.nav-link {
				font-weight: normal;
				border-radius: 1.25rem !important;
				background-color: transparent;
				border-color: transparent;
				margin-bottom: 0;

				&:hover,
				&:focus {
					p {
						font-weight: 500;
					}
				}
			}

			.nav-link.active p {
				font-weight: 500;
			}
		}
	}

	.partiallycorrect-icon {
		width: 1.2rem;
		height: 1.2rem;
		background-image: url("[[pix:quiz_advancedoverview|grade_partiallycorrect]]");
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
		margin: 0 auto;
	}

	.advancedoverview_report-dropdown-btn[data-target="#studentsActionsCollapse"] {
		width: 7.5rem;
	}

	#studentsActionsCollapse .card {
		width: auto;
	}

	.filter-pic {
		margin-right: 0.5rem;
	}

	#selectedstudents {
		font-size: 1.125rem;
	}

	/*
	#studentsActionsBtn {
		width: 9rem;
	} */

	#questions-table,
	#diagnostic-table,
	#students-table {
		&.tabulator {
			font-size: 1.125rem;

			.tabulator-headers {
				.tabulator-col-sorter i {

					&.fa-sort-up,
					&.fa-sort-down {
						color: #fff;

						&::after {
							position: absolute;
							left: 0;
							font-family: 'Font Awesome 6 Pro';
							font-weight: 900;
							font-style: normal;
							font-display: block;
							color: #bbb;
						}
					}

					&.fa-sort-up {
						&::after {
							content: '\f0dd';
						}
					}

					&.fa-sort-down {
						&::after {
							content: '\f0de';
						}
					}
				}
			}

			.tabulator-header {
				border: none;
				.tabulator-headers {
					height: 2.5rem;
					color: #fff;
				}
				.tabulator-calcs-holder {
					.tabulator-cell:has(.customtopcalc-empty) {
						border-right: none;
					}
					.tabulator-cell:has(.customtopcalc-value) {
						border-left: 1px solid #aaa;
					}
				}
				.tabulator-col {
					border-left: none;
					border-right: none;
					height: 2.5rem;
					padding: 0.375rem 0;
					background-color: transparent;

					.tabulator-col-content {
						padding: 0;

						.tabulator-col-title-holder {
							border-right: 0.0625rem solid #fff;
							padding: 0 0.5rem;
						}
					}

					&:last-of-type {
						.tabulator-col-content .tabulator-col-title-holder {
							border: none;
						}
					}

					&:first-of-type {
						.tabulator-col-title {
							text-align: left;
							justify-content: flex-end;
						}
					}

					.tabulator-col-title {
						text-align: center;
						font-weight: normal;
						vertical-align: middle;
					}
				}
			}

			.tabulator-row {
				&:hover {
					cursor: default;
				}
			}

			.tabulator-data-tree-control {
				background: none;
				border: none;
				padding-top: .0625rem;
				.tabulator-data-tree-control-expand {
					width: 0;
					height: 0;
					border: none;
					border-top: .375rem solid transparent;
					border-bottom: .375rem solid transparent;
					border-left: .375rem solid #2b2b2b;
					background: none;

					&::after,
					&::before {
						display: none;
					}
				}

				.tabulator-data-tree-control-collapse {
					width: 0;
					height: 0;
					border-left: .375rem solid transparent;
					border-right: .375rem solid transparent;
					border-top: .375rem solid #2b2b2b;

					&::after,
					&::before {
						display: none;
					}
				}
			}

			.tabulator-data-tree-branch {
				display: none;
			}
		}
	}

	#questions-table, #diagnostic-table {
		.tabulator-header {
			.tabulator-col {
				.tabulator-col-title {
					padding-right: 0;
				}

			}

			.tabulator-headers {
				div:nth-child(3) {
					.tabulator-col-title {
						text-align: left;
					}
				}
			}
		}

		.tabulator-row {
			.tabulator-cell {
				border: none;
				padding: 0 0.5rem;
				text-align: center;
				height: 100%;
				vertical-align: middle;
				display: inline-flex;
				align-items: center;
				justify-content: center;

				&:first-of-type {
					padding: 0 1rem;
					text-align: left;
				}

				&:nth-child(3) {
					justify-content: start;
				}
			}
		}

		.qname {
			min-width: 9rem;
			display: inline-flex;
			align-items: center;
			font-weight: bold;
			font-size: 1.125rem;
		}

		.description {
			font-size: 1.125rem;
			display: inline-flex;
			align-items: center;
		}
	}

	#questions-table {
		.helper-cell {
			width: 1.5rem;
			height: 1.5rem;
			background-position: center;
			background-size: 1.25rem;
			text-decoration: none;

			&:hover {
				background-color: #e9ecef;
				border: 0.0625rem solid #343a40;
				border-radius: 0.25rem;
			}
		}
	}

	#students-table {

		#newRow,
		#customRow,
		.tabulator-calcs-top {
			input[type="checkbox"] {
				display: none;
			}

			.tabulator-cell {
				border-color: transparent;
				&:not([tabulator-field="fullname"]) {
					display: inline-flex;
  					justify-content: center;
				}
			}

			[tabulator-field="checkbox"],
			[tabulator-field="attempt_number"],
			[tabulator-field="duration"],
			[tabulator-field^="Q"] {
				border-right-color: #aaa;
			}

			.tabulator-cell.tabulator-frozen.tabulator-frozen-left {
				border-right: 2px solid #aaa;
			}
		}

		.tabulator-header {

			.tabulator-col {
				.tabulator-col-content {
					height: 100%;

					.tabulator-col-title {
						display: inline-flex;
						height: 100%;
						align-items: center;
					}
				}

				&:nth-of-type(5) {
					.tabulator-col-title-holder {
						border-right: none !important;
					}
				}
			}

		}

		.tabulator-row {
			.tabulator-cell {
				display: inline-flex;
				align-items: center;
				.cellqlink {
					margin: 0 auto;
				}
				&:nth-of-type(5) {
					border-right: none !important;
				}
			}

			.tabulator-cell:first-of-type {
				padding-left: .5rem;
				padding-right: 0.5rem;
				display: inline-flex;
				align-items: center;
				justify-content: flex-end;
			}

			.row-menu-btn {
				display: none !important;

				&:focus,
				&:hover {
					display: block !important;
				}
			}

			&:hover {
				.row-menu-btn {
					display: block !important;
				}
			}
		}

		.tabulator-footer {
			background-color: #fff;

			.tabulator-footer-contents {
				// margin: 0 auto;
				padding: .5rem;

				.tabulator-page {

					width: 2.5rem;
					height: 2.5rem;
					border-radius: 0.25rem;
					display: flex;
					align-items: center;
					justify-content: center;
					background-color: #fff;
					color: #707070;
					border: .0625rem solid transparent;
					margin: 0 0.25rem;

					&:not([data-page="next"]):not([data-page="prev"]).active,
					&:not([data-page="next"]):not([data-page="prev"]):active,
					&:not([data-page="next"]):not([data-page="prev"]):focus {
						background-color: #707070;
						border-color: #707070;
						box-shadow: none;
						outline: none;
					}

					&:not([data-page="next"]):not([data-page="prev"]):hover {
						border-color: #707070;
						color: #2B2B2B;
					}

					&:not([data-page="next"]):not([data-page="prev"]):disabled {
						color: #CED4DA;
					}

					&[data-page="first"],
					&[data-page="last"] {
						display: none;
					}

					&[data-page="next"],
					&[data-page="prev"] {
						font-size: 0;

						&::after {
							content: '\f105';
							width: 1.5rem;
							height: 1.5rem;
							border-radius: 100%;
							font-family: 'Font Awesome 6 Pro';
							font-style: normal;
							font-weight: 900;
							font-display: block;
							color: #fff;
							font-size: 1rem;
							border: .0625rem solid transparent;
							line-height: 1.4;
							text-indent: .0625rem;
						}

						&:active {
							box-shadow: none;
							outline: none;
						}

						&:focus {
							box-shadow: none;
						}

						&:hover::after {
							color: #fff;
						}
					}

					&[data-page="prev"]::after {
						content: '\f104';
						text-indent: -0.0625rem;
					}

				}

				.tabulator-paginator {
					display: flex;
					justify-content: center;
				}

				.tabulator-pages {
					display: flex;
					align-items: center;
					margin: 0;
				}
			}
		}
		.numerical_value {
			text-align: center;
		}
		.incorrect {
			background-image: url("[[pix:quiz_advancedoverview|wrong]]");
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center;
			margin: 0 auto;

			.numerical_value {
				display: none;
			}
		}

		.correct,
		.complete {
			background-image: url("[[pix:quiz_advancedoverview|correct]]");
			background-size: contain;
			background-repeat: no-repeat;
			background-position: center;
			margin: 0 auto;

			.numerical_value {
				display: none;
			}
		}

		.incorrect,
		.correct,
		.complete,
		.partiallycorrect {
			width: 1.5rem;
			height: 1.5rem;
			background-position: center;
			background-size: 1.25rem;

			&:hover {
				background-color: #e9ecef;
				border: .0625rem solid #343a40;
				border-radius: .25rem;
			}
		}
		.wrapped-value {
			margin: 0 auto;
		}
		&.score-display {
			.tabulator-cell {

				.notanswered,
				.requiresgrading,
				.notyetanswered {
					.sr-only {
						position: relative;
						white-space: normal;
						line-height: 1;
						display: block;
						font-size: 1rem;
						width: auto;
						height: auto;
						clip: unset;
					}
				}
				.numerical_value {
					display: none;
				}

				.partiallycorrect {
					background-image: url("[[pix:quiz_advancedoverview|wix]]");
					background-repeat: no-repeat;
					background-position: center;
					background-size: 1.15rem;
					margin: 0 auto;
				}
			}
		}

		.fname,
		.lname {
			position: relative;
			display: inline-flex;
			align-items: center;

			&::after {
				content: '';
				display: none;
				position: absolute;
				width: 0;
				height: 0;
				right: 0;
			}
			position: relative;
			&::after,
			&::before {
				display: block;
				position: absolute;
				font-family: 'Font Awesome 6 Pro';
				font-weight: 900;
				font-style: normal;
				font-display: block;
				color: #bbb;
				right: 0;
				width: auto;
				height: auto;
			}
			&::after {
				content: '\f0dd';
			}

			&::before {
				content: '\f0de';
			}
			&.active {


				&[data-sort="desc"] {
					&::after {
						content: '\f0dd';
						color: #fff;
					}

					&::before {
						content: '\f0de';
					}

				}

				&[data-sort="asc"] {
					&::after {
						content: '\f0dd';
					}

					&::before {
						content: '\f0de';
						color: #fff;

					}
				}
			}
		}
	}
}

#studentsActionsBlock #downloadXlsTable {
	cursor: pointer;
	width: 2rem;
	height: 2rem;
	// border: 1px solid $border_gray;
	// border-radius: 0 5px 5px 0;
	border-left: none;
	background-position: center;
	background-repeat: no-repeat;
	background-size: 75%;
	background-image: url([[pix:quiz_advancedoverview|excel_icon]]);
	overflow: hidden;
}

#page-mod-quiz-report #studentsActionsCollapse .custom-checkbox {
	opacity: 1;
}

#page-mod-quiz-report #pillsArea {
	display: flex;
	align-items: center;
}

#page-mod-quiz-report .grade-low-cell {
	background-color: #ce0e0f;
}

#page-mod-quiz-report .grade-med-cell {
	background-color: #f59331;
}

html[dir="rtl"] {
	.advancedoverview_report-toggle {
		label:after {
			right: .125rem;
			left: unset;
		}

		input:checked+label:after {
			left: .125rem;
			right: unset;
			/* transform: translateX(100%); */
		}
	}

	.chart-tooltip::after {
		transform: rotate(45deg);
		right: -0.25rem;
		left: unset;
	}

	.block_advancedoverview_report #students-table .tabulator-footer .tabulator-footer-contents .tabulator-page[data-page="next"]::after,
	.block_advancedoverview_report #students-table .tabulator-footer .tabulator-footer-contents .tabulator-page[data-page="prev"]::after {
		transform: scaleX(-1);
	}
}

@media (max-width: 1240px) {
	.block_advancedoverview_report .card {
		width: 48%;
		margin-bottom: 1rem;
	}
}

@media (max-width: 940px) {
	.block_advancedoverview_report .card {
		width: 100%;
		margin-bottom: 1rem;
	}
}
