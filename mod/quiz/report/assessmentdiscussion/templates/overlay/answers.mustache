{{#viewlist}}
<div class="answeroverlay-list">
    {{^emptydata}}
    {{#renderdata}}
    <div class="answeroverlay-list-item mb-3 pb-2 border border-secondarylight">
        {{#teamworkenable}}
        <div
            class="answeroverlay-list-item-head bg-secondarylight text-primary bold px-3 py-2 d-flex">
            <div class="answer-item-head-icon mr-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none">
                    <g clip-path="url(#clip0_671_4807)">
                        <path
                            d="M4.05 5.41504C4.64674 5.41504 5.21903 5.17799 5.64099 4.75603C6.06295 4.33407 6.3 3.76178 6.3 3.16504C6.3 2.5683 6.06295 1.99601 5.64099 1.57405C5.21903 1.15209 4.64674 0.915039 4.05 0.915039C3.45326 0.915039 2.88097 1.15209 2.45901 1.57405C2.03705 1.99601 1.8 2.5683 1.8 3.16504C1.8 3.76178 2.03705 4.33407 2.45901 4.75603C2.88097 5.17799 3.45326 5.41504 4.05 5.41504ZM14.4 5.41504C14.9967 5.41504 15.569 5.17799 15.991 4.75603C16.4129 4.33407 16.65 3.76178 16.65 3.16504C16.65 2.5683 16.4129 1.99601 15.991 1.57405C15.569 1.15209 14.9967 0.915039 14.4 0.915039C13.8033 0.915039 13.231 1.15209 12.809 1.57405C12.3871 1.99601 12.15 2.5683 12.15 3.16504C12.15 3.76178 12.3871 4.33407 12.809 4.75603C13.231 5.17799 13.8033 5.41504 14.4 5.41504ZM0 9.31598C0 9.64504 0.27 9.91504 0.599062 9.91504H6.60094C6.60656 9.91504 6.61219 9.91504 6.62062 9.91504C5.8725 9.2541 5.40281 8.28941 5.40281 7.21504C5.40281 7.00129 5.4225 6.79316 5.45625 6.58785C5.07375 6.41066 4.64906 6.31504 4.20187 6.31504H3.00094C1.34437 6.31504 0 7.65941 0 9.31598ZM11.3991 9.91504H17.4009C17.7328 9.91504 18 9.64504 18 9.31598C18 7.65941 16.6556 6.31504 14.9991 6.31504H13.8009C13.3538 6.31504 12.9291 6.41348 12.5466 6.58785C12.5831 6.79035 12.6 7.00129 12.6 7.21504C12.6 8.28941 12.1275 9.2541 11.3822 9.91504C11.3878 9.91504 11.3934 9.91504 11.4019 9.91504H11.3991ZM9 5.86504C9.17728 5.86504 9.35283 5.89996 9.51662 5.9678C9.68041 6.03565 9.82924 6.13509 9.95459 6.26044C10.08 6.3858 10.1794 6.53463 10.2472 6.69842C10.3151 6.86221 10.35 7.03775 10.35 7.21504C10.35 7.39232 10.3151 7.56787 10.2472 7.73166C10.1794 7.89545 10.08 8.04427 9.95459 8.16963C9.82924 8.29499 9.68041 8.39443 9.51662 8.46228C9.35283 8.53012 9.17728 8.56504 9 8.56504C8.82271 8.56504 8.64717 8.53012 8.48338 8.46228C8.31959 8.39443 8.17076 8.29499 8.04541 8.16963C7.92005 8.04427 7.82061 7.89545 7.75276 7.73166C7.68492 7.56787 7.65 7.39232 7.65 7.21504C7.65 7.03775 7.68492 6.86221 7.75276 6.69842C7.82061 6.53463 7.92005 6.3858 8.04541 6.26044C8.17076 6.13509 8.31959 6.03565 8.48338 5.9678C8.64717 5.89996 8.82271 5.86504 9 5.86504ZM9 9.91504C9.35457 9.91504 9.70567 9.8452 10.0332 9.70951C10.3608 9.57383 10.6585 9.37495 10.9092 9.12423C11.1599 8.87351 11.3588 8.57586 11.4945 8.24828C11.6302 7.9207 11.7 7.56961 11.7 7.21504C11.7 6.86047 11.6302 6.50937 11.4945 6.18179C11.3588 5.85421 11.1599 5.55657 10.9092 5.30585C10.6585 5.05513 10.3608 4.85625 10.0332 4.72056C9.70567 4.58488 9.35457 4.51504 9 4.51504C8.64543 4.51504 8.29433 4.58488 7.96675 4.72056C7.63918 4.85625 7.34153 5.05513 7.09081 5.30585C6.84009 5.55657 6.64121 5.85421 6.50552 6.18179C6.36984 6.50937 6.3 6.86047 6.3 7.21504C6.3 7.56961 6.36984 7.9207 6.50552 8.24828C6.64121 8.57586 6.84009 8.87351 7.09081 9.12423C7.34153 9.37495 7.63918 9.57383 7.96675 9.70951C8.29433 9.8452 8.64543 9.91504 9 9.91504ZM7.34906 12.165H10.6509C11.7703 12.165 12.7097 12.93 12.9741 13.965H5.02594C5.29312 12.93 6.2325 12.165 7.34906 12.165ZM7.34906 10.815C5.27906 10.815 3.6 12.4941 3.6 14.5641C3.6 14.9775 3.93469 15.315 4.35094 15.315H13.6491C14.0625 15.315 14.4 14.9804 14.4 14.5641C14.4 12.4941 12.7209 10.815 10.6509 10.815H7.34906Z"
                            fill="#554283" />
                    </g>
                    <defs>
                        <clipPath id="clip0_671_4807">
                            <rect width="18" height="14.4" fill="white" transform="translate(0 0.915039)" />
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <div class="answeroverlay-list-item-head-title position-relative">
                {{firstname}} {{lastname}}
                <div class="assessmentdisccus-tooltip p-2 position-absolute" data-position="bottom"
                    data-carret-position="top-left">
                    <ul>
                        {{#teamworkusers}}
                        <li>{{name}}</li>
                        {{/teamworkusers}}
                    </ul>
                </div>
            </div>
        </div>
        {{/teamworkenable}}

        {{^teamworkenable}}
        <div class="answeroverlay-list-item-head bg-secondarylight text-primary bold px-3 py-2 position-relative">
            {{firstname}} {{lastname}}
        </div>
        {{/teamworkenable}}

        <div class="answeroverlay-list-item-content preview-answer-block text-body pt-3 px-3 pb-3 inview_preview" id="preview_overlay_block_{{attemptid}}"
             data-attemptid="{{attemptid}}" data-cmid="{{cmid}}" data-qid="{{qid}}" data-slot="{{slot}}">

        </div>
    </div>
    {{/renderdata}}
    {{/emptydata}}

    {{#emptydata}}
    <h4>{{#str}}noanswers, quiz_assessmentdiscussion{{/str}}</h4>
    {{/emptydata}}
</div>
{{/viewlist}}

{{^viewlist}}
{{^emptydata}}
<div id="answeroverlayControls{{unique}}" class="answeroverlay-carousel carousel slide" data-interval="false"
    data-ride="carousel" data-wrap="false">
    <div class="answeroverlay-carousel-inner carousel-inner">
        {{#renderdata}}
        <div class="answeroverlay-carousel-item carousel-item {{#active}} active {{/active}}" data-counter="{{counter}}" data-maxanswerscount="{{maxanswerscount}}">
            <h4 class="answeroverlay-carousel-item-title text-primary mb-4">
                {{firstname}} {{lastname}}
            </h4>

            <div class="answeroverlay-carousel-item-text preview-answer-block text-body mb-0 inview_preview" id="preview_overlay_block_{{attemptid}}"
                 data-attemptid="{{attemptid}}" data-cmid="{{cmid}}" data-qid="{{qid}}" data-slot="{{slot}}">

            </div>
        </div>
        {{/renderdata}}
    </div>

    <button class="answeroverlay-carousel-control-prev answeroverlay-carousel-control carousel-control-prev"
        type="button" data-target="#answeroverlayControls{{unique}}" data-slide="prev">
        <svg class="answeroverlay-carousel-control-inner" xmlns="http://www.w3.org/2000/svg" width="49" height="49"
            viewBox="0 0 49 49" fill="none">
            <path
                d="M48.5361 24.6001C48.5361 11.3438 37.7924 0.600098 24.5361 0.600098C11.2799 0.600098 0.536133 11.3438 0.536133 24.6001C0.536133 37.8563 11.2799 48.6001 24.5361 48.6001C37.7924 48.6001 48.5361 37.8563 48.5361 24.6001ZM25.4174 37.2189L14.9174 26.7189C14.3268 26.1376 14.0361 25.3688 14.0361 24.6001C14.0361 23.8313 14.3291 23.0645 14.915 22.4795L25.415 11.9795C26.5869 10.8076 28.4854 10.8076 29.6572 11.9795C30.8291 13.1513 30.8291 15.0498 29.6572 16.2217L21.2736 24.6001L29.653 32.9795C30.8249 34.1513 30.8249 36.0498 29.653 37.2217C28.4811 38.3935 26.5893 38.3907 25.4174 37.2189Z"
                fill="#554283" />
        </svg>
        <span class="sr-only">
            {{#str}}previous, quiz_assessmentdiscussion{{/str}}
        </span>

    </button>

    <button class="answeroverlay-carousel-control-next answeroverlay-carousel-control carousel-control-next"
        type="button" data-target="#answeroverlayControls{{unique}}" data-slide="next">
        <svg class="answeroverlay-carousel-control-inner" xmlns="http://www.w3.org/2000/svg" width="49" height="49"
            viewBox="0 0 49 49" fill="none">
            <path
                d="M48.5361 24.6001C48.5361 11.3438 37.7924 0.600098 24.5361 0.600098C11.2799 0.600098 0.536133 11.3438 0.536133 24.6001C0.536133 37.8563 11.2799 48.6001 24.5361 48.6001C37.7924 48.6001 48.5361 37.8563 48.5361 24.6001ZM25.4174 37.2189L14.9174 26.7189C14.3268 26.1376 14.0361 25.3688 14.0361 24.6001C14.0361 23.8313 14.3291 23.0645 14.915 22.4795L25.415 11.9795C26.5869 10.8076 28.4854 10.8076 29.6572 11.9795C30.8291 13.1513 30.8291 15.0498 29.6572 16.2217L21.2736 24.6001L29.653 32.9795C30.8249 34.1513 30.8249 36.0498 29.653 37.2217C28.4811 38.3935 26.5893 38.3907 25.4174 37.2189Z"
                fill="#554283" />
        </svg>
        <span class="sr-only">
            {{#str}}next, quiz_assessmentdiscussion{{/str}}
        </span>

    </button>
</div>
{{/emptydata}}

{{#emptydata}}
<div class="answeroverlay-list">
    <h4>{{#str}}noanswers, quiz_assessmentdiscussion{{/str}}</h4>
</div>
{{/emptydata}}
{{/viewlist}}

{{#js}}
require(['jquery'], function($) {
    $('#answeroverlayControls{{unique}}').on('slide.bs.carousel', function (e) {

        let counter = $(e.relatedTarget).data('counter');
        let maxcounter = $(e.relatedTarget).data('maxanswerscount');

        $('#answerCount').html(counter + ' / ' +   maxcounter);
    })
});
{{/js}}