{"version":3,"file":"handlers.min.js","sources":["../src/handlers.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript main event handler.\n *\n * @module     message_petel/close_notification\n * @package    message_petel\n * @copyright  2019 Devlionco <info@devlion.co>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.6\n */\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'core/notification'\n], function ($, Ajax, Notification) {\n\n    return {\n        init: function (callback) {\n            $('.popover-region-container').unbind('click');\n            $('.popover-region-container').bind('click', function (event) {\n\n                if (event.target.dataset.handler === `approve_social_message`) {\n                    let messageid = event.target.dataset.message_id;\n\n                        Ajax.call([{\n                            methodname: 'community_social_approve_message_from_teacher',\n                            args: {\n                                'messageid': Number(messageid)\n                            },\n                            done: function () {\n                                callback(messageid);\n                            },\n                            fail: Notification.exception\n                        }]);\n\n                    return;\n                }\n\n                if (event.target.dataset.handler === `decline_social_message`) {\n                    let messageid = event.target.dataset.message_id;\n\n                    Ajax.call([{\n                        methodname: 'community_social_decline_message_from_teacher',\n                        args: {\n                            'messageid': Number(messageid)\n                        },\n                        done: function () {\n                            callback(messageid);\n                        },\n                        fail: Notification.exception\n                    }]);\n\n                    return;\n                }\n            });\n        }\n    };\n});\n"],"names":["define","$","Ajax","Notification","init","callback","unbind","bind","event","target","dataset","handler","messageid","message_id","call","methodname","args","Number","done","fail","exception"],"mappings":";;;;;;;;;AAyBAA,gCAAO,CACH,SACA,YACA,sBACD,SAAUC,EAAGC,KAAMC,oBAEX,CACHC,KAAM,SAAUC,UACZJ,EAAE,6BAA6BK,OAAO,SACtCL,EAAE,6BAA6BM,KAAK,SAAS,SAAUC,qCAE/CA,MAAMC,OAAOC,QAAQC,sCAiBrBH,MAAMC,OAAOC,QAAQC,kBACjBC,WAAYJ,MAAMC,OAAOC,QAAQG,WAErCX,KAAKY,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,WACWC,OAAOL,aAExBM,KAAM,WACFb,SAASO,aAEbO,KAAMhB,aAAaiB,sBA3BnBR,UAAYJ,MAAMC,OAAOC,QAAQG,WAEjCX,KAAKY,KAAK,CAAC,CACPC,WAAY,gDACZC,KAAM,WACWC,OAAOL,YAExBM,KAAM,WACFb,SAASO,YAEbO,KAAMhB,aAAaiB,kBAyB9C"}